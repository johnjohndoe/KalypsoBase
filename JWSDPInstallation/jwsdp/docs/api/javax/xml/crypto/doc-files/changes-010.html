<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Sean Mullan">
   <meta name="GENERATOR" content="Mozilla/4.79C-CCK-MCD  [en] (X11; U; SunOS 5.7 sun4u) [Netscape]">
</head>
<body>

<center>
<h3>
JSR 105 API changes since the Public Review Draft</h3></center>

<h4>
JSR 105 v0.10 API&nbsp;Changes</h4>

<h4>
General</h4>

<ol>
<li>
Removed "_URI" from the Algorithm URI String constants (ex:
<code>Transform.ENVELOPED_URI</code> is now <code>Transform.ENVELOPED</code>).
</li>
</ol>

<h4>
javax.xml.crypto</h4>

<ol>
<li>
Added <code>put</code> and <code>get</code> methods to the
<code>XMLCryptoContext</code> interface for storing arbitrary information.
</li>
</ol>

<h4>
javax.xml.crypto.dom</h4>

<ol>
<li>
Changed <code>DOMNodeSetData</code> from an interface to a concrete class,
to make it easier for developers to use.</li>

<li>
Changed the return type of the <code>DOMURIReference.getHere</code> method
from <code>Node</code> to <code>Attr</code> since it is always an 
<code>Attr</code>.</li>

<li>
Added a constructor to the <code>DOMValidateContext</code> class that takes
a single <code>Node</code> parameter, which is useful when you want to 
unmarshal, but not cryptographically validate an <code>XMLSignature</code>. 
This is also useful for using an existing <code>XMLSignature</code> as a 
template for a subsequent signing operation.</li>

<li>
Added constructors to the <code>DOMSignContext</code> class that take
a <code>KeySelector</code> parameter instead of a <code>Key</code> parameter.
</li>

</ol>

<h4>
javax.xml.crypto.dsig</h4>

<ol>
<li>
Removed the protected <code>XMLSignatureFactory(String, Provider)</code> 
constructor and replaced it with a no-args constructor, which is sufficient.
</li>

<li>
Added a <code>validate</code> method to the <code>SignedInfo</code> class
that validates the signature over the <code>SignedInfo</code> element.</li>

<li>
Adde a <code>Validity</code> interface which represents the validity, or
result of validating a <code>Reference</code>, <code>Manifest</code>, or
<code>SignedInfo</code> object.</li>

<li>
Changed the name of the <code>Reference.ValidateResult</code> interface to
<code>Reference.Validity</code> and changed it to extend the
<code>Validity</code> interface.

<li>
Clarified that the <code>XMLSignature.validate</code> method only validates
the signature and it does not unmarshal and reinitialize the contents of
the <code>XMLSignature</code> object.</li>

<li>
Changed the return type of the <code>Reference.getDigestValue</code> method from
<code>Reference.DigestValue</code> to <code>byte[]</code>.</li>

<li>
Changed the name of the <code>Reference.DigestValue</code> interface to
<code>Reference.CachedData</code> and removed the <code>getDigest</code>
method. Also, changed the <code>Reference.Validity</code> interface to
extend <code>CachedData</code>.</li>

<li>In the <code>XMLSignContext</code> and <code>XMLValidateContext</code>
interfaces, documented the different keys that could be passed to the
<code>get</code> method to retrieve specific validation results or 
cached data from dereferencing.</li> 
</ol>

<h4>
javax.xml.crypto.dsig.keyinfo</h4>

<ol>

<li>
Removed the protected <code>KeyInfoFactory(String, Provider)</code> 
constructor and replaced it with a no-args constructor, which is sufficient.
</li>
</ol>

<h4>
javax.xml.crypto.dsig.spec</h4>

<ol>
<li>
Added the <code>XSLTTransformParameterSpec</code> class for holding input
parameters to the XSLT Transform algorithm</code>.</li>
</ol>

</body>
</html>
