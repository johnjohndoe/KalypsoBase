<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
	<extension-point id="featureViewExtensionControl" name="featureViewExtensionControl" schema="schema/featureViewExtensionControl.exsd" />
	<extension-point id="componentUiHandlerProvider" name="componentUiHandlerProvider" schema="schema/componentUiHandlerProvider.exsd" />
	<extension-point id="themeFactory" name="themeFactory" schema="schema/themeFactory.exsd" />
	<extension-point id="modelAdapter" name="modelAdapter" schema="schema/modelAdapter.exsd" />
	<extension-point id="typeHandlers" name="typeHandlers" schema="schema/typeHandlers.exsd" />
    <extension-point id="observationTableHeaderPopupMenu" name="observationTableHeaderPopupMenu" schema="schema/observationTableHeaderPopupMenu.exsd"/>
    <extension-point id="movieImageProvider" name="movieImageProvider" schema="schema/movieImageProvider.exsd"/>
    <extension-point id="exportWizards" name="exportWizards" schema="schema/exportWizards.exsd"/>
    <extension-point id="importWizards" name="importWizards" schema="schema/importWizards.exsd"/>
    <extension-point id="addLayerWizard" name="addLayerWizard" schema="schema/addLayerWizard.exsd"/>
    <extension-point id="mapDropTarget" name="mapDropTarget" schema="schema/mapDropTarget.exsd"/>
	
	<extension id="preferences" name="preferences" point="org.eclipse.core.runtime.preferences">
		<initializer class="org.kalypso.ui.preferences.KalypsoPreferenceInitializer"/>
	</extension>
	<extension id="preferencePages" name="preferencePages" point="org.eclipse.ui.preferencePages">
		<page class="org.kalypso.ui.preferences.KalypsoGeneralPreferencePage" id="org.kalypso.ui.preferences.KalypsoPreferencePage" name="%org.kalypso.ui.preferences.KalypsoPreferencePage"/>
	</extension>
	<extension id="editors" name="editors" point="org.eclipse.ui.editors">
		<editor class="org.kalypso.ui.editor.mapeditor.GisMapEditor" icon="icons/kalypso_gmt.gif" default="true"  name="%org.kalypso.ui.editor.mapeditor.GisMapEditor" id="org.kalypso.ui.editor.mapeditor.GisMapEditor" extensions="gmt" contributorClass="org.kalypso.ui.editor.mapeditor.GisMapEditorActionBarContributor">
		</editor>
		<editor default="true" name="%org.kalypso.ui.editor.gistableeditor.GisTableEditor" icon="icons/kalypso_gtt.gif" extensions="gtt" class="org.kalypso.ui.editor.gistableeditor.GisTableEditor" contributorClass="org.kalypso.ui.editor.gistableeditor.GisTableEditorActionBarContributor" id="org.kalypso.ui.editor.gistableeditor.GisTableEditor">
		</editor>
		<editor default="true" name="%org.kalypso.ui.editor.featureeditor.FeatureEditor" icon="icons/kalypso_gtt.gif" extensions="gft" class="org.kalypso.ui.editor.featureeditor.FeatureEditor" id="org.kalypso.ui.editor.featureeditor.FeatureEditor">
		</editor>
		<editor class="org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor" default="true" extensions="xsd" icon="icons/full/obj16/gml_schema_file.gif" id="org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor" name="%org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor" />
		<editor class="org.kalypso.ui.editor.gmleditor.part.GmlEditor" contributorClass="org.kalypso.ui.editor.gmleditor.part.GmlEditorActionBarContributor" default="true" extensions="gmv,gml,shp,gmlz" icon="icons/kalypso_gtt.gif" id="org.kalypso.ui.editor.GmlEditor" name="%org.kalypso.ui.editor.gmleditor.part.GmlEditor">
		</editor>
		<editor class="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor" icon="icons/kalypso_odt.gif" default="true" contributorClass="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditorContributor" name="%org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor" id="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor" extensions="odt,zml,zmlz">
		</editor>
		<editor class="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor" icon="icons/kalypso_ott.gif" default="true" contributorClass="org.kalypso.ui.editor.obstableeditor.ObservationTableEditorContributor" name="%org.kalypso.ui.editor.obstableeditor.ObservationTableEditor" id="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor" extensions="ott,zml,zmlz">
		</editor>
		<editor launcher="org.kalypso.ui.editorLauncher.GisTemplateLauncher" icon="icons/full/obj16/gml_file.gif" default="false" name="%org.kalypso.ui.editorLauncher.GisTemplateLauncher" id="org.kalypso.ui.editor.GisEditor" extensions="gml,gmlz,shp">
		</editor>
		<editor launcher="org.kalypso.ui.editorLauncher.ObsTemplateLauncher" icon="icons/sample.gif" default="false" name="%org.kalypso.ui.editorLauncher.ObsTemplateLauncher" id="org.kalypso.ui.editor.ObsEditor" extensions="zml,zmlz">
		</editor>
		<editor launcher="org.kalypso.ui.editorLauncher.GrafikEditorLauncher" icon="icons/observation/grafik-icon.gif" default="false" name="%org.kalypso.ui.editorLauncher.GrafikEditorLauncher" id="org.kalypso.zml.grafik" extensions="zml,tpl,odt,zmlz" />
        <editor launcher="org.kalypso.ui.editor.gmlconvert.GmlConvertLauncher" default="false" name="GML Converter" id="org.kalypso.debug.editor.gmlconvert" extensions="gmc"/>		
	</extension>
	<extension id="views" name="views" point="org.eclipse.ui.views">
		<category name="%category.name.0" id="org.kalypso.ui.kalypso"></category>
		<view name="%org.kalypso.ui.repository.view.RepositoryExplorerPart" icon="icons/repository/repository.gif" category="org.kalypso.ui.kalypso" class="org.kalypso.ui.repository.view.RepositoryExplorerPart" id="org.kalypso.ui.repository.view.RepositoryExplorerPart"/>
		<view name="%org.kalypso.ui.editor.mapeditor.views.StyleEditorViewPart" icon="icons/sldeditor/styleEditor.gif" category="org.kalypso.ui.kalypso" class="org.kalypso.ui.editor.mapeditor.views.StyleEditorViewPart" id="org.kalypso.ui.editor.mapeditor.views.styleeditor"/>
		<view
        allowMultiple="false"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.editor.mapeditor.views.MapWidgetView"
        icon="icons/kalypso16.gif"
        id="org.kalypso.ui.editor.mapeditor.views.ActionOptionsView"
        name="%org.kalypso.ui.editor.mapeditor.views.ActionOptionsView"/>
		<view allowMultiple="false" category="org.kalypso.ui.kalypso" class="org.kalypso.ogc.gml.om.table.ObservationTableView" icon="icons/kalypso_ott.gif" id="org.kalypso.ogc.gml.om.table.ObservationTableView" name="%org.kalypso.ogc.gml.om.table.ObservationTableView" />
		<view
        allowMultiple="true"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.views.map.MapView"
        icon="icons/kalypso_gmt.gif"
        id="org.kalypso.ui.views.mapView"
        name="%view.name.0"
        reloadMapOnOpen="false"
        saveMapOnClose="true"/>
		<view
        allowMultiple="false"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ogc.gml.outline.ViewContentOutline"
        icon="icons/kalypso_gmt.gif"
        id="org.kalypso.ui.views.outline"
        name="%org.kalypso.ui.views.outline"/>
		<view
        allowMultiple="true"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.editor.featureeditor.FeatureTemplateView"
        icon="icons/kalypso_gtt.gif"
        id="org.kalypso.ui.views.featuretemplateview"
        name="%view.name.1"
        reloadMapOnOpen="false"/>
		<view
        allowMultiple="false"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.views.map.MapOverView"
        id="org.kalypso.ui.views.mapOverView"
        name="%view.name.2"/>
  <view
        allowMultiple="true"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.editor.gistableeditor.GttViewPart"
        icon="icons/kalypso_gtt.gif"
        id="org.kalypso.ui.editor.gistableeditor.GttViewPart"
        name="Gis Table">
  </view>
	</extension>
	<extension id="editorActions" name="editorActions" point="org.eclipse.ui.editorActions">
		<editorContribution targetID="org.kalypso.ui.editor.gistableeditor.GisTableEditor" id="org.kalypso.ui.editor.gistableeditor.GisTableActionDelegate">
			<menu label="%org.kalypso.ui.editors.tableeditor.menu.label" path="additions" id="org.kalypso.ui.editors.tableeditor.menu">
				<groupMarker name="tabelle"></groupMarker>
				<separator name="spalten"></separator>
				<separator name="edit"></separator>
				<separator name="selection" />
			</menu>
			<menu label="%org.kalypso.ui.editors.tableeditor.columnmenu" path="org.kalypso.ui.editors.tableeditor.menu/spalten" id="org.kalypso.ui.editors.tableeditor.columnmenu">
				<separator name="spaltenMenu"></separator>
			</menu>
			<action disabledIcon="icons/feature/save_GML_gray.gif" enablesFor="+" toolbarPath="edit" label="%org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate.label" tooltip="%org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate.tooltip" icon="icons/feature/save_GML.gif" class="org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate" style="push" menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit" id="org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate">
			</action>
			<action class="org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate" disabledIcon="icons/gistable/undo_edit_disabled.gif" icon="icons/gistable/undo_edit.gif" id="org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate" label="%org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate.label" menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit" style="push" toolbarPath="edit" tooltip="%org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate.tooltip">
			</action>
			<action class="org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate" disabledIcon="icons/gistable/redo_edit_disabled.gif" icon="icons/gistable/redo_edit.gif" id="org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate" label="%org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate.label" menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit" style="push" toolbarPath="edit" tooltip="%org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate.tooltip">
			</action>
		</editorContribution>
		<editorContribution targetID="org.kalypso.ui.editor.GmlEditor" id="org.kalypso.ui.editor.gistreeeditor.GisTreeActionDelegate">
			<menu label="%org.kalypso.ui.editors.treeeditor.menu" path="additions" id="org.kalypso.ui.editors.treeeditor.menu">
				<groupMarker name="edit" />
				<separator name="navigate" />
				<separator name="selection" />
				<separator name="additions" />
			</menu>
			<action disabledIcon="icons/map/save_edit_disabled.gif" toolbarPath="edit" label="%org.kalypso.ui.editor.gmleditor.actions.SaveGmlDelegate.label" tooltip="%org.kalypso.ui.editor.gmleditor.actions.SaveGmlDelegate.tooltip" icon="icons/feature/save_GML.gif" class="org.kalypso.ui.editor.gmleditor.actions.SaveGmlDelegate" style="push" menubarPath="org.kalypso.ui.editors.treeeditor.menu/edit" id="org.kalypso.ui.editor.gistreeeditor.SaveDataAction">
			</action>
			<action class="org.kalypso.ui.editor.gmleditor.actions.RedoDelegate" disabledIcon="icons/gistable/redo_edit_disabled.gif" icon="icons/gistable/redo_edit.gif" id="org.kalypso.ui.editor.gmleditor.util.actions.RedoDelegate" label="%org.kalypso.ui.editor.gmleditor.actions.RedoDelegate.label" menubarPath="org.kalypso.ui.editors.treeeditor.menu/edit" style="push" toolbarPath="edit" tooltip="%org.kalypso.ui.editor.gmleditor.actions.RedoDelegate.tooltip">
			</action>
			<action class="org.kalypso.ui.editor.gmleditor.actions.UndoDelegate" disabledIcon="icons/gistable/undo_edit_disabled.gif" icon="icons/gistable/undo_edit.gif" id="org.kalypso.ui.editor.gmleditor.util.actions.UndoDelegate" label="%org.kalypso.ui.editor.gmleditor.actions.UndoDelegate.label" menubarPath="org.kalypso.ui.editors.treeeditor.menu/edit" style="push" toolbarPath="edit" tooltip="%org.kalypso.ui.editor.gmleditor.actions.UndoDelegate.tooltip">
			</action>
			<action class="org.kalypso.ui.editor.gmleditor.actions.CollapseAllActionDelegate" disabledIcon="icons/util/tree_collapse_all_disabled.gif" icon="icons/util/tree_collapse_all.gif" id="org.kalypso.ui.editor.gmleditor.util.actions.CollapseAllActionDelegate" label="%org.kalypso.ui.editor.gmleditor.actions.CollapseAllActionDelegate.label" menubarPath="org.kalypso.ui.editors.treeeditor.menu/navigate" style="push" toolbarPath="navigate"
				tooltip="%org.kalypso.ui.editor.gmleditor.actions.CollapseAllActionDelegate.label" />
			<action class="org.kalypso.ui.editor.gmleditor.actions.GoIntoActionDelegate" disabledIcon="icons/full/dlcl16/gointo.gif" icon="icons/full/elcl16/gointo.gif" id="org.kalypso.ui.editor.gmleditor.util.actions.GoIntoActionDelegate" label="%org.kalypso.ui.editor.gmleditor.actions.GoIntoActionDelegate.label" menubarPath="org.kalypso.ui.editors.treeeditor.menu/navigate" style="push" toolbarPath="navigate" tooltip="%org.kalypso.ui.editor.gmleditor.actions.GoIntoActionDelegate.tooltip" />
			<action class="org.kalypso.ui.editor.gmleditor.actions.GoUpActionDelegate" disabledIcon="icons/full/dlcl16/up_nav.gif" icon="icons/full/elcl16/up_nav.gif" id="org.kalypso.ui.editor.gmleditor.util.actions.GoUpActionDelegate" label="%org.kalypso.ui.editor.gmleditor.actions.GoUpActionDelegate.label" menubarPath="org.kalypso.ui.editors.treeeditor.menu/navigate" style="push" toolbarPath="navigate" tooltip="%org.kalypso.ui.editor.gmleditor.actions.GoUpActionDelegate.tooltip" />
		</editorContribution>
		<editorContribution targetID="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor" id="org.kalypso.ui.editor.obstableeditor.EditorContribution">
			<menu label="%org.kalypso.ui.editor.obstableeditor.menu" path="additions" id="org.kalypso.ui.editor.obstableeditor.menu">
				<separator name="separator1" />
				<groupMarker name="tools" />
				<groupMarker name="exports" />
			</menu>
			<action disabledIcon="icons/feature/save_GML_gray.gif" toolbarPath="tabelle" label="%org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction.label" icon="icons/feature/save_GML.gif" tooltip="%org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction.tooltip" class="org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction" style="push" menubarPath="org.kalypso.ui.editor.obstableeditor.menu/tools" id="org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction" />
			<action class="org.kalypso.ui.editor.obstableeditor.actions.TablePropertiesAction" disabledIcon="icons/util/settings_disabled.gif" icon="icons/util/settings.gif" id="org.kalypso.ui.editor.obstableeditor.actions.TablePropertiesAction" label="%org.kalypso.ui.editor.obstableeditor.actions.TablePropertiesAction.label" menubarPath="org.kalypso.ui.editor.obstableeditor.menu/tools" style="push" toolbarPath="tabelle" />
		</editorContribution>
		<editorContribution targetID="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor" id="org.kalypso.ui.editor.diagrameditor.EditorContribution">
			<menu label="%menu.label.0" path="additions" id="org.kalypso.ui.editor.obsdiageditor.menu">
				<separator name="separator1" />
				<groupMarker name="tools" />
				<groupMarker name="exports" />
			</menu>
			<action class="org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction" disabledIcon="icons/util/settings_disabled.gif" icon="icons/util/settings.gif" id="org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction" label="%org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction.label" menubarPath="org.kalypso.ui.editor.obsdiageditor.menu/tools" style="push" toolbarPath="diagramm" tooltip="%org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction.tooltip" />
			<action toolbarPath="diagramm" label="%org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction.label" icon="icons/observation/grafik-icon.gif" tooltip="%org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction.tooltip" class="org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction" style="push" menubarPath="org.kalypso.ui.editor.obsdiageditor.menu/tools" id="org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction">
			</action>
		</editorContribution>
	</extension>
	<extension id="popupMenus" name="popupMenus" point="org.eclipse.ui.popupMenus">
		<objectContribution adaptable="false" objectClass="org.kalypsodeegree.filterencoding.Filter" id="org.kalypso.objectclass.fiterencoding.filter">
			<menu label="%org.kalypso.objectclass.filterencoding.filter.menu.label" id="org.kalypso.objectclass.filterencoding.filter.menu">
				<separator name="filter" />
				<separator name="operations" />
			</menu>
			<menu label="%org.kalypso.objectclass.filterencoding.operation.menu" id="org.kalypso.objectclass.filterencoding.operation.menu">
				<separator name="operations" />
			</menu>
			<action label="%action.label.1" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCComplexFilter" menubarPath="org.kalypso.objectclass.filterencoding.filter.menu/filter" icon="icons/util/filter.gif" style="push" id="org.kalypso.objectclass.filter.create.complexfilter" />
			<action label="%action.label.2" icon="icons/util/filter.gif" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCFeatureFilter" menubarPath="org.kalypso.objectclass.filterencoding.filter.menu/filter" id="org.kalypso.objectclass.filter.create.featurefilter" />
			<action label="%action.label.3" icon="icons/util/filter.gif" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCElseFilter" menubarPath="org.kalypso.objectclass.filterencoding.filter.menu/filter" id="org.kalypso.objectclass.filterencoding.create.elsefilter" />
			<action label="%action.label.4" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCSpatialOperationDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.spatialoperation" />
			<action label="%action.label.5" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCComparisionOpsActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objcetclass.filterencoding.create.comparisonoperation" />
			<action label="%action.label.6" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCBetweenOperationActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.betweenopeartion" />
			<action label="%action.label.7" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsLikeOperationActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.islikeopeartion" />
			<action label="%action.label.8" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalANDOpsActionDelegate" style="push" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.operation.logicaloperationand" />
			<action label="%action.label.9" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalOROpsActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.fiterencoding.create.logicaloperationor" />
			<action label="%action.label.10" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalNOTOpsActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.fiterencoding.create.logicaloperationnot" />
			<action label="%action.label.11" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsNullOperationActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.fiterencoding.create.isnulloperation" />
		</objectContribution>
		<objectContribution adaptable="false" objectClass="org.kalypsodeegree.filterencoding.Operation" id="org.kalypso.objectclass.filterenconding.operation">
			<menu label="%org.kalypso.objectclass.filterencoding.operation.menu" id="org.kalypso.objectclass.filterencoding.operation.menu">
				<separator name="operations" />
				<groupMarker name="logicalgroup" />
			</menu>
			<action label="%action.label.12" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCSpatialOperationDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.operation.spatialopeation" />
			<action label="%action.label.13" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCComparisionOpsActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objcetclass.filterencoding.create.comparisonoperation" />
			<action label="%action.label.14" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCBetweenOperationActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.betweenopeartion" />
			<action label="%action.label.15" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsLikeOperationActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.filterencoding.create.islikeopeartion" />
			<action label="%action.label.16" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalANDOpsActionDelegate" style="push" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/logicalgroup" id="org.kalypso.objectclass.filterencoding.create.operation.logicaloperationand" />
			<action label="%action.label.17" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalOROpsActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/logicalgroup" id="org.kalypso.objectclass.fiterencoding.create.logicaloperationor" />
			<action label="%action.label.18" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalNOTOpsActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/logicalgroup" id="org.kalypso.objectclass.fiterencoding.create.logicaloperationnot" />
			<action label="%action.label.19" class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsNullOperationActionDelegate" menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations" id="org.kalypso.objectclass.fiterencoding.create.isnulloperation" />
		</objectContribution>
		<objectContribution adaptable="false" objectClass="org.eclipse.core.resources.IFile" id="org.kalypso.objectclass.zmlFile">
			<action enablesFor="1" label="%org.kalypso.ogc.sensor.view.wq.ViewWQRelationObjectContribution.label" icon="icons/util/filter.gif" class="org.kalypso.ogc.sensor.view.wq.ViewWQRelationObjectContribution" menubarPath="extensions" id="org.kalypso.ogc.sensor.view.wq.ViewWQRelationObjectContribution" />
		</objectContribution>
		<objectContribution adaptable="false" id="org.kalypso.objectclass.observationfeature" objectClass="org.kalypsodeegree.model.feature.Feature">
			<filter name="featureTypeStrict" value="http://www.opengis.net/om#Observation" />
			<action class="org.kalypso.ogc.gml.om.EditObservationAction" enablesFor="1" icon="icons/observation/zml-icon.gif" id="org.kalypso.ogc.gml.om.EditObservationAction" label="%org.kalypso.ogc.gml.om.EditObservationAction.label" style="push" tooltip="%org.kalypso.ogc.gml.om.EditObservationAction.tooltip" />
			<action class="org.kalypso.ogc.gml.om.ShowObservationAction" icon="icons/kalypso_ott.gif" id="org.kalypso.ogc.gml.om.ShowObservationAction" label="%org.kalypso.ogc.gml.om.ShowObservationAction.label" tooltip="%org.kalypso.ogc.gml.om.ShowObservationAction.tooltip" />
		</objectContribution>
	</extension>
	<extension id="resourceFilters" name="resourceFilters" point="org.eclipse.ui.ide.resourceFilters">
		<filter selected="false" pattern="*.gml"></filter>
	</extension>
	<extension id="perspectives" name="perspectives" point="org.eclipse.ui.perspectives">
		<perspective name="%org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory" icon="icons/perspective/zml_browser.gif" class="org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory" id="org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory">
		</perspective>
		<perspective name="%org.kalypso.ui.perspectives.ModelerPerspectiveFactory" icon="icons/perspective/expert.gif" fixed="false" class="org.kalypso.ui.perspectives.ModelerPerspectiveFactory" id="org.kalypso.ui.perspectives.ModelerPerspectiveFactory">
		</perspective>
	</extension>
	<extension id="repository.factories" name="repository.factories" point="org.kalypso.repository.factories">
		<repository factory="org.kalypso.ui.repository.factory.SWTZmlRepositoryFactory" name="%org.kalypso.ui.repository.factory.SWTZmlRepositoryFactory"/>
	</extension>
	<extension point="org.eclipse.core.runtime.adapters">
		<factory adaptableType="org.kalypsodeegree.model.feature.Feature" class="org.kalypso.ogc.gml.actionfilters.FeatureActionFilterAdapterFactory">
			<adapter type="org.eclipse.ui.IActionFilter" />
		</factory>
		<factory adaptableType="org.kalypso.ui.editor.gmleditor.part.FeatureAssociationTypeElement" class="org.kalypso.ogc.gml.actionfilters.FeatureAssociationActionFilterAdapterFactory">
			<adapter type="org.eclipse.ui.IActionFilter" />
		</factory>
		<factory adaptableType="org.kalypso.ui.editor.mapeditor.GisMapEditor" class="org.kalypso.ui.views.properties.MapPartAdapterFactory">
			<adapter type="org.kalypso.ogc.gml.map.IMapPanel">
			</adapter>
		</factory>
		<factory adaptableType="org.kalypso.ui.views.map.MapView" class="org.kalypso.ui.views.properties.MapPartAdapterFactory">
			<adapter type="org.kalypso.ogc.gml.map.IMapPanel">
			</adapter>
		</factory>
		<factory adaptableType="org.kalypso.ogc.gml.outline.nodes.IThemeNode" class="org.kalypso.ogc.gml.outline.nodes.ThemeNodeAdapterFactory">
			<adapter type="org.eclipse.ui.model.IWorkbenchAdapter2"/>
			<adapter type="org.eclipse.ui.model.IWorkbenchAdapter"/>
			<adapter type="org.kalypsodeegree.xml.Marshallable"/>
			<adapter type="org.kalypso.ogc.gml.IKalypsoTheme"/>
			<adapter type="org.kalypso.ogc.gml.IKalypsoFeatureTheme"/>
			<adapter type="org.kalypso.ogc.gml.IKalypsoUserStyle"/>
			<adapter type="org.kalypso.ogc.gml.IKalypsoFeatureTypeStyle"/>
			<adapter type="org.kalypsodeegree.graphics.sld.UserStyle"/>
			<adapter type="org.kalypsodeegree.graphics.sld.FeatureTypeStyle"/>
			<adapter type="org.kalypsodeegree.graphics.sld.Rule"/>
			<adapter type="org.kalypsodeegree.graphics.sld.Symbolizer"/>
		</factory>
	</extension>
	<extension point="org.kalypso.contribs.eclipsercp.actionFilters">
		<actionFilter class="org.kalypso.ogc.gml.actionfilters.FeatureTypeActionFilter" id="org.kalypso.ogc.gml.actionfilters.FeatureTypeActionFilter" targetType="org.kalypsodeegree.model.feature.Feature" />
		<actionFilter class="org.kalypso.ogc.gml.actionfilters.FeatureTypeStrictActionFilter" id="org.kalypso.ogc.gml.actionfilters.FeatureTypeStrictActionFilter" targetType="org.kalypsodeegree.model.feature.Feature" />
		<actionFilter class="org.kalypso.ogc.gml.actionfilters.FeatureListElementActionFilter" id="org.kalypso.ogc.gml.actionfilters.FeatureListElementActionFilter" targetType="org.kalypsodeegree.model.feature.Feature" />
		<actionFilter class="org.kalypso.ogc.gml.actionfilters.FeatureAssociationQNameActionFilter" id="org.kalypso.ogc.gml.actionfilters.FeatureAssociationQNameActionFilter" targetType="org.kalypso.ui.editor.gmleditor.part.FeatureAssociationTypeElement" />
	</extension>
	<extension point="org.eclipse.ui.newWizards">
		<category id="org.kalypso.ui.newwizards.kalypso" name="%category.name.1" />
		<wizard canFinishEarly="false" category="org.kalypso.ui.newwizards.kalypso" class="org.kalypso.ui.wizard.NewGMLFileWizard" hasPages="true" icon="icons/full/obj16/gml_file.gif" id="org.kalypso.ui.wizard.NewGMLFileWizard" name="%org.kalypso.ui.wizard.NewGMLFileWizard.name">
			<description>%org.kalypso.ui.wizard.NewGMLFileWizard.description</description>
			<selection class="org.eclipse.core.resources.IResource" />
		</wizard>
	</extension>
	<extension point="org.kalypso.contribs.java.urlCatalog">
		<catalog class="org.kalypso.ui.catalogs.ServerPropertiesUrlCatalog" id="org.kalypso.ui.catalogs.ServerPropertiesUrlCatalog" />
	</extension>
	<extension point="org.eclipse.ui.importWizards">
		<category id="org.kalypso.ui.importwizards.kalypso" name="%category.name.2" />
	</extension>
	
	<!-- Map-Commands -->
	<extension point="org.eclipse.ui.commands">
		<category description="%org.kalypso.ogc.gml.map.category.description" id="org.kalypso.ogc.gml.map.category" name="%org.kalypso.ogc.gml.map.category.name" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.1" id="org.kalypso.ogc.gml.map.ZoomOutCommand" name="%command.name.1" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.2" id="org.kalypso.ogc.gml.map.ZoomInStaticCommand" name="%command.name.2" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.3" id="org.kalypso.ogc.gml.map.MoveDownCommand" name="%command.name.3" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.4" id="org.kalypso.ogc.gml.map.MoveUpCommand" name="%command.name.4" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.5" id="org.kalypso.ogc.gml.map.MoveRightCommand" name="%command.name.5" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.6" id="org.kalypso.ogc.gml.map.MoveLeftCommand" name="%command.name.6" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.7" id="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand" name="%command.name.7" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.8" id="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand" name="%command.name.8" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.9" id="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesByLayerCommand" name="%command.name.9" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.10" id="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand" name="%command.name.10" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ogc.gml.map.FullExtentCommand.description" id="org.kalypso.ogc.gml.map.FullExtentCommand" name="%org.kalypso.ogc.gml.map.FullExtentCommand.name" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand" name="%org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand" name="%org.kalypso.ogc.gml.map.ExtentHistoryNextCommand.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.ZoomInByRectCommand" name="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.PanToCommand" name="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label" />
  <command
        categoryId="org.kalypso.ogc.gml.map.category"
        description="%org.kalypso.ogc.gml.map.ExportClipboardCommand.description"
        id="org.kalypso.ogc.gml.map.ExportClipboardCommand"
        name="%org.kalypso.ogc.gml.map.ExportClipboardCommand.name">
  </command>
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ogc.gml.map.Screenshot.description" id="org.kalypso.ogc.gml.map.Screenshot" name="%org.kalypso.ogc.gml.map.Screenshot.name" />
  <command
        categoryId="org.kalypso.ogc.gml.map.category"
        description="%org.kalypso.ogc.gml.map.ExportPDFCommand.description"
        id="org.kalypso.ogc.gml.map.ExportPdfCommand"
        name="%org.kalypso.ogc.gml.map.ExportPDFCommand.name">
  </command>
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.0" id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand" name="%command.name.0">
			<commandParameter id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" name="%commandParameter.name.0" optional="false" />
			<commandParameter id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" name="%commandParameter.name.1" optional="false" />
			<commandParameter id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" name="%commandParameter.name.2" optional="false" />
		</command>
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.11" id="org.kalypso.ogc.gml.map.ThemeInfoCommand" name="%command.name.13" />
  <command
        categoryId="org.kalypso.ogc.gml.map.category"
        description="%org.kalypso.ogc.gml.map.GetFeatureInfoCommand.description"
        id="org.kalypso.ogc.gml.map.GetFeatureInfoCommand"
        name="%org.kalypso.ogc.gml.map.GetFeatureInfoCommand.name">
  </command>
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%command.description.12" id="org.kalypso.ogc.gml.map.OpenOutlineCommand" name="%command.name.14" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ui.map.selectFirstFeatureCommand.description" name="%org.kalypso.ui.map.selectFirstFeatureCommand.name" id="org.kalypso.ui.map.selectFirstFeatureCommand" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ui.map.selectNextFeatureCommand.description" name="%org.kalypso.ui.map.selectNextFeatureCommand.name" id="org.kalypso.ui.map.selectNextFeatureCommand" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ui.map.selectPreviousFeatureCommand.description" name="%org.kalypso.ui.map.selectPreviousFeatureCommand.name" id="org.kalypso.ui.map.selectPreviousFeatureCommand" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ui.map.selectLastFeatureCommand.description" name="%org.kalypso.ui.map.selectLastFeatureCommand.name" id="org.kalypso.ui.map.selectLastFeatureCommand" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.MeasureMapCommand" name="%org.kalypso.ogc.gml.map.MeasureMapCommand.label" description="%org.kalypso.ogc.gml.map.MeasureMapCommand.tooltip"/>
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.FindElementMapCommand" name="%org.kalypso.ogc.gml.map.FindElementMapCommand.label" description="%org.kalypso.ogc.gml.map.FindElementMapCommand.tooltip"/>
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.SelectFeatureCommand" name="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.SelectSingleFeatureCommand" name="%org.kalypso.ogc.gml.map.SelectSingleFeatureCommand.label" description="%org.kalypso.ogc.gml.map.SelectSingleFeatureCommand.description" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.SaveThemeCommand" name="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.UndoCommand" name="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" id="org.kalypso.ogc.gml.map.RedoCommand" name="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.label" />
		<command categoryId="org.kalypso.ogc.gml.map.category" description="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.tooltip" id="org.kalypso.gis.newFeature.command" name="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.label">
			<commandParameter id="org.kalypso.gis.newFeature.type" name="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.parameterType" optional="false" />
		</command>
	</extension>
		
	<!-- Generic command category. Used for the 'GenericCommandActionDelegate'; do not delete -->
	<extension point="org.eclipse.ui.commands">
		<category id="org.kalypso.ui.commands.default" name="Generic Default Category" description="Used for dynamic command created by the 'GenericCommandActionDelegate'" />
	</extension>

	<!-- Commands for the map outline -->
	<extension point="org.eclipse.ui.commands">
		<category id="org.kalypso.ui.map.outline.category" description="%org.kalypso.ui.views.outline.category.description"  name="%org.kalypso.ui.views.outline.category.name" />

		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.ToggleCompactOutline" name="%org.kalypso.ui.map.outline.command.ToggleCompactOutline.name" description="%org.kalypso.ui.map.outline.command.ToggleCompactOutline.description"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.CollapseOutline" name="%org.kalypso.ui.map.outline.command.CollapseOutline.name" description="%org.kalypso.ui.map.outline.command.CollapseOutline.description"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.ExpandOutline" name="%org.kalypso.ui.map.outline.command.ExpandOutline.name" description="%org.kalypso.ui.map.outline.command.ExpandOutline.description"/>

		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.ZoomToSelectedTheme" name="%org.kalypso.ogc.gml.outline.ZoomToSelectedLayer.label"  description="%org.kalypso.ogc.gml.outline.ZoomToSelectedLayer.tooltip"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.ActivateTheme" name="%org.kalypso.ogc.gml.outline.ActivateThemeAction.label"  description="%org.kalypso.ogc.gml.outline.ActivateThemeAction.tooltip"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.MoveThemeDown" name="%org.kalypso.ogc.gml.outline.MoveThemeDownAction.label"  description="%org.kalypso.ogc.gml.outline.MoveThemeDownAction.tooltip"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.MoveThemeUp" name="%org.kalypso.ogc.gml.outline.MoveThemeUpAction.label"  description="%org.kalypso.ogc.gml.outline.MoveThemeUpAction.tooltip"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.RemoveTheme" name="%org.kalypso.ogc.gml.outline.RemoveThemeAction.label"  description="%org.kalypso.ogc.gml.outline.RemoveThemeAction.tooltip"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.OpenStyleDialog" name="%org.kalypso.ogc.gml.outline.OpenStyleDialogAction.label"  description="%org.kalypso.ogc.gml.outline.OpenStyleDialogAction.tooltip"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.NodeProperties" name="%action.label.25" description="%action.tooltip.6"/>

		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.AddNode" name="%org.kalypso.ui.map.outline.command.AddNode.name" description="%org.kalypso.ui.map.outline.command.AddNode.description"/>
		<command categoryId="org.kalypso.ui.map.outline.category" id="org.kalypso.ui.map.outline.command.RemoveNode" name="%org.kalypso.ui.map.outline.command.RemoveNode.name" description="%org.kalypso.ui.map.outline.command.RemoveNode.description"/>
	</extension>
	
	<extension point="org.eclipse.ui.bindings">
		<key commandId="org.kalypso.ogc.gml.map.ZoomOutCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+-" />
		<key commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1++" />
		<key commandId="org.kalypso.ogc.gml.map.MoveLeftCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+ARROW_LEFT" />
		<key commandId="org.kalypso.ogc.gml.map.MoveRightCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+ARROW_RIGHT" />
		<key commandId="org.kalypso.ogc.gml.map.MoveUpCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+ARROW_UP" />
		<key commandId="org.kalypso.ogc.gml.map.MoveDownCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+ARROW_DOWN" />
		<key commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+L" />
		<key commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+Q" />
		<key commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesByLayerCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+E" />
		<key commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+F" />
		<key commandId="org.kalypso.ogc.gml.map.FullExtentCommand" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+M" />
	</extension>
	<extension point="org.eclipse.ui.propertyPages">
		<page
        class="org.kalypso.ui.views.properties.ThemePropertyPage"
        id="org.kalypso.ui.views.properties.ThemePropertyPage"
        name="%org.kalypso.ui.views.properties.ThemePropertyPage.name">
			<enabledWhen>
                <instanceof value="org.kalypso.ogc.gml.outline.nodes.KalypsoThemeNode"/>
			</enabledWhen>
		</page>
		<page
        class="org.kalypso.ui.views.properties.LegendPropertyPage"
        id="org.kalypso.ui.views.properties.LegendPropertyPage"
        name="%org.kalypso.ui.views.properties.LegendPropertyPage.name">
			<enabledWhen>
                <instanceof value="org.kalypso.ogc.gml.outline.nodes.IThemeNode"/>
			</enabledWhen>
		</page>
  <page
        category="org.kalypso.ui.views.properties.ThemePropertyPage"
        class="org.kalypso.ui.views.properties.WMSThemePropertyPage"
        id="org.kalypso.ui.views.properties.WMSThemePropertyPage"
        name="%org.kalypso.ui.views.properties.WMSThemePropertyPage.name">
        <enabledWhen>
            <instanceof value="org.kalypso.ogc.gml.outline.nodes.WMSThemeNode"/>
        </enabledWhen>
  </page>
  <page
        category="org.kalypso.ui.views.properties.ThemePropertyPage"
        class="org.kalypso.ui.views.properties.FeatureThemePropertyPage"
        id="org.kalypso.ui.views.properties.FeatureThemePropertyPage"
        name="%org.kalypso.ui.views.properties.FeatureThemePropertyPage.name">
     <enabledWhen>
        <instanceof value="org.kalypso.ogc.gml.outline.nodes.FeatureThemeNode"/>
     </enabledWhen>
  </page>
  <page
        category="org.kalypso.ui.views.properties.ThemePropertyPage"
        class="org.kalypso.ui.views.properties.ImagePropertyPage"
        id="org.kalypso.ui.views.properties.ImagePropertyPage"
        name="Bild">
     <enabledWhen>
        <instanceof
              value="org.kalypso.ogc.gml.outline.nodes.ImageThemeNode">
        </instanceof>
     </enabledWhen>
  </page>
  <page
        category="org.kalypso.ui.views.properties.ThemePropertyPage"
        class="org.kalypso.ui.views.properties.TextPropertyPage"
        id="org.kalypso.ui.views.properties.TextPropertyPage"
        name="Text">
     <enabledWhen>
        <instanceof
              value="org.kalypso.ogc.gml.outline.nodes.TextThemeNode">
        </instanceof>
     </enabledWhen>
  </page>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="toolbar:org.kalypso.ui.views.mapView">
			<separator name="widgets" visible="false">
				<!-- Add new tools BEFORE this separator; especially if they are not always visible
				this prohibits that the toolbar gets smaller/bigger when changing windows -->
			</separator>
			<command commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.tooltip" />
			<command commandId="org.kalypso.ogc.gml.map.PanToCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.tooltip" />
			<command commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand" style="radio" />
			<command commandId="org.kalypso.ogc.gml.map.MeasureMapCommand" style="radio"/>
			<command commandId="org.kalypso.ogc.gml.map.FindElementMapCommand" style="radio"/>
			<separator name="actions" visible="true" />
			<command commandId="org.kalypso.ogc.gml.map.FullExtentCommand" style="push" />
			<command commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand" style="push" />
			<command commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand" style="push" />
			<command commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand" style="push" />
			<command commandId="org.kalypso.ogc.gml.map.ZoomOutCommand" style="push" />
			<!--
			Unlikely that really some used these command with the mouse; they are also still available via keys strokes
			Lets see if someone misses them....
			<dynamic id="org.kalypso.ogc.gml.map.move">
				<class class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
					<parameter name="command1" value="org.kalypso.ogc.gml.map.MoveLeftCommand" />
					<parameter name="command2" value="org.kalypso.ogc.gml.map.MoveUpCommand" />
					<parameter name="command3" value="org.kalypso.ogc.gml.map.MoveDownCommand" />
					<parameter name="command4" value="org.kalypso.ogc.gml.map.MoveRightCommand" />
				</class>
			</dynamic>
			-->
            <command commandId="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand" style="push"/>
            <command commandId="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand" style="push"/>
			
			<separator name="mapExport" visible="true" />
			
			<command commandId="org.kalypso.ogc.gml.map.Screenshot" style="push" tooltip="%org.kalypso.ogc.gml.map.Screenshot.description" />
			<command commandId="org.kalypso.ogc.gml.map.ExportPdfCommand" style="push"/>
			<command commandId="org.kalypso.ogc.gml.map.ExportClipboardCommand" style="push"/>
			<command commandId="org.eclipse.ui.file.print" style="push" tooltip="Print" />
			<command commandId="org.kalypso.ogc.gml.map.OpenOutlineCommand" label="%command.label.1" style="push" tooltip="%command.tooltip.1" />
			<!--  TODO: does not really belong here, as it introduces a hidden dependency to a non-dependent plug-in (KML-Export) -->
			<!--<command commandId="org.kalypso.kml.export.command" label="kml Export" style="push" tooltip="kml Export"/>-->
			<separator name="mapExportAdditions" visible="false" />
		</menuContribution>
		<menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=additions">
			<menu id="org.kalypso.ui.menus.mapMenu" label="%org.kalypso.ui.editors.mapeditor.menu" tooltip="%menu.tooltip.0">
				<visibleWhen checkEnabled="false">
					<with variable="activeEditorId">
						<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
					</with>
				</visibleWhen>
				<separator name="widgets" visible="false" />
				<command commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.PanToCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.MeasureMapCommand" style="radio" />
				<command commandId="org.kalypso.ogc.gml.map.FindElementMapCommand" style="radio" />
				<dynamic class="org.kalypso.ogc.gml.map.widgets.newfeature.NewFeatureToolbarContribution" id="org.kalypso.gis.newFeature.menuContribution" />
				<separator name="widgetAdditions" visible="false">
					<!-- Additional widgets (especially those which's visibility depends on a certain layer/datatype) should be
					added before this separator  -->
				</separator>
				<separator name="klickNavigation" visible="true" />
				<command commandId="org.kalypso.ogc.gml.map.FullExtentCommand" style="push" />
				<command commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomToActiveLayerDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomToActiveLayerDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInStaticDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInStaticDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.ZoomOutCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomOutDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomOutDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.MoveLeftCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveLeftDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveLeftDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.MoveDownCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveDownDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveDownDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.MoveUpCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveUpDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveUpDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.MoveRightCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveRightDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveRightDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand" label="%org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand.label" style="push" tooltip="%org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand" label="%org.kalypso.ogc.gml.map.ExtentHistoryNextCommand.label" style="push" tooltip="%org.kalypso.ogc.gml.map.ExtentHistoryNextCommand.tooltip" />
				<separator name="data" visible="true" />
				<command commandId="org.kalypso.ogc.gml.map.SaveThemeCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.UndoCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.tooltip" />
				<command commandId="org.kalypso.ogc.gml.map.RedoCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.tooltip" />
				<separator name="export" visible="true" />
				<command commandId="org.kalypso.ogc.gml.map.Screenshot" tooltip="%org.kalypso.ogc.gml.map.Screenshot.description" />
                <command commandId="org.kalypso.ogc.gml.map.ExportPdfCommand" style="push"/>
                <command commandId="org.kalypso.ogc.gml.map.ExportClipboardCommand" style="push"/>
				<separator name="additions" visible="false" />
			</menu>
		</menuContribution>
		<menuContribution locationURI="toolbar:org.eclipse.ui.trim.status">
			<toolbar id="org.kalypso.ui.views.map.MapScaleStatusLineItem">
				<visibleWhen>
					<reference definitionId="mapContext" />
				</visibleWhen>
				<control class="org.kalypso.ui.views.map.MapCoordinateStatusLineItem"/>
				<control class="org.kalypso.ui.views.map.MapScaleStatusLineItem"/>
			</toolbar>
		</menuContribution>
		<menuContribution locationURI="toolbar:org.kalypso.ui.repository.view.RepositoryExplorerPart">
			<separator name="manageContainers" visible="false"/>
			<command commandId="org.kalypso.ui.command.repositoryAdd"></command>
			<command commandId="org.kalypso.ui.command.repositoryRemove"></command>
			<separator name="configureContainers" visible="true"/>
			<command commandId="org.kalypso.ui.command.repositoryConfigure"></command>
			<command commandId="org.kalypso.ui.command.repositoryReload"></command>
			<command commandId="org.kalypso.ui.command.repositoryDumpStructure"></command>
			<command commandId="org.kalypso.ui.command.repositoryDumpExtended"></command>
			<separator name="manageTree" visible="true"/>
			<command commandId="org.kalypso.ui.command.repositoryCollapseAll"></command>
			<separator name="repositoryTools" visible="true"/>
			<command commandId="org.kalypso.ui.command.repositoryExportAsFile"></command>
			<command commandId="org.kalypso.ui.command.repositoryCopyLink"></command>
			<command commandId="org.kalypso.ui.command.repositoryShowWQ"></command>
			<separator name="additions" visible="true"/>
		</menuContribution>
		<menuContribution locationURI="popup:org.kalypso.ui.repository.view.RepositoryExplorerPart">
			<separator name="manageContainers" visible="false">
			</separator>
			<command commandId="org.kalypso.ui.command.repositoryAdd"></command>
			<command commandId="org.kalypso.ui.command.repositoryRemove"></command>
			<separator name="configureContainers" visible="true">
			</separator>
			<command commandId="org.kalypso.ui.command.repositoryConfigure"></command>
			<command commandId="org.kalypso.ui.command.repositoryReload"></command>
			<command commandId="org.kalypso.ui.command.repositoryDumpStructure"></command>
			<command commandId="org.kalypso.ui.command.repositoryDumpExtended"></command>
			<separator name="manageTree" visible="true">
			</separator>
			<command commandId="org.kalypso.ui.command.repositoryCollapseAll"></command>
			<separator name="repositoryTools" visible="true">
			</separator>
			<command commandId="org.kalypso.ui.command.repositoryExportAsFile"></command>
			<command commandId="org.kalypso.ui.command.repositoryCopyLink"></command>
			<command commandId="org.kalypso.ui.command.repositoryShowWQ"></command>
			<separator name="additions" visible="true">
			</separator>
		</menuContribution>
	</extension>		
	
	<!-- Map-Editor-Outline: standard tool/menu -->
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="toolbar:org.kalypso.map.outline.GisMapEditor">
			<separator name="outline" visible="false"/>
			<command commandId="org.kalypso.ui.map.outline.command.ExpandOutline" style="push"/>
			<command commandId="org.kalypso.ui.map.outline.command.CollapseOutline" style="push"/>
		
			<separator name="theme" visible="true"/>
			<command commandId="org.kalypso.ui.map.outline.command.RemoveTheme" style="push"/>
			<command commandId="org.kalypso.ui.map.outline.command.MoveThemeDown" style="push"/>
			<command commandId="org.kalypso.ui.map.outline.command.MoveThemeUp" style="push"/>
			<command commandId="org.kalypso.ui.map.outline.command.ActivateTheme" style="push"/>

			<separator name="navigation" visible="true"/>
			<command commandId="org.kalypso.ui.map.outline.command.ZoomToSelectedTheme" style="push"/>
			
			<separator name="style" visible="true"/>
			<command commandId="org.kalypso.ui.map.outline.command.OpenStyleDialog" style="push"/>
			
			<separator name="additions" visible="true"/>
		</menuContribution>

		<menuContribution locationURI="menu:org.kalypso.map.outline.GisMapEditor">
			<menu label="View" mnemonic="v" id="org.kalypso.map.outline.GisMapEditor.menu.view">
				<separator name="outline" visible="false"/>
				<command commandId="org.kalypso.ui.map.outline.command.ToggleCompactOutline" style="toggle"/>
				<separator name="additions" visible="false"/>
			</menu>
			<separator name="additions" visible="false"/>
		</menuContribution>
  
        <menuContribution locationURI="popup:org.eclipse.ui.popup.any?after=additions">
          <separator name="importExportStart"/>
          <command commandId="org.kalypso.ui.command.import" style="push">
               <visibleWhen checkEnabled="true"/>
          </command>
          <command commandId="org.kalypso.ui.command.export" style="push">
               <visibleWhen checkEnabled="true"/>
          </command>
          <separator name="importExportEnd" visible="true"/>
          <command commandId="org.kalypso.ui.map.outline.command.NodeProperties" style="push">
               <visibleWhen checkEnabled="true"/>
          </command>
        </menuContribution>
	</extension>
	
	<!-- Map-View-Outline: tool/menu-items for standard Map-View-Outline -->
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="toolbar:org.kalypso.ui.views.mapView.outline">
			<separator name="theme" visible="true"/>
			<command commandId="org.kalypso.ui.map.outline.command.RemoveTheme" style="push"/>
			<command commandId="org.kalypso.ui.map.outline.command.MoveThemeDown" style="push"/>
			<command commandId="org.kalypso.ui.map.outline.command.MoveThemeUp" style="push"/>
			<separator name="navigation" visible="true"/>
			<command commandId="org.kalypso.ui.map.outline.command.ZoomToSelectedTheme" style="push"/>
			<separator name="style" visible="true"/>
			<!-- FIXME: this already works fine, but we needs some more control what the user can edit. I.e. introduce 
			             parameter (on theme?) and/or command to control the followingf things:
			                 - featureTypeStyle properties should never we allowed to be edited
			                 - resolve i18n strings
			                 - only allow simple mode editing?
			-->
			<command commandId="org.kalypso.ui.map.outline.command.OpenStyleDialog" style="push"/>
			<separator name="additions" visible="true"/>
		</menuContribution>

		<menuContribution locationURI="popup:org.kalypso.ui.views.mapView.outline">
		  <!-- FIXME -->
			<!-- Properties not allowed until they recognize how to handle non-editable themes -->
			
			<command commandId="org.kalypso.ui.map.outline.command.NodeProperties" style="push"/>
			<command commandId="org.kalypso.ui.command.import" style="push"/>
			<command commandId="org.kalypso.ui.command.export" style="push"/>
			<separator name="additions" visible="false"/>
		</menuContribution>

		<!-- Noting in view-menu yet, uncomment if necessary -->
		<!--menuContribution locationURI="menu:org.kalypso.ui.views.mapView.outline">
			<separator name="additions" visible="false"/>
		</menuContribution-->
	</extension>


    <!-- org.kalypso.ui.editor.gmleditor.ui.GmlEditor: standard tool/menu-items -->
    <extension point="org.eclipse.ui.menus">
        <menuContribution locationURI="popup:org.kalypso.ui.editor.gmleditor.ui.GmlEditor">
            <separator name="additions" visible="false"/>
        </menuContribution>
    </extension>
	
	<!-- Map -->
	<extension point="org.eclipse.ui.commandImages">
		<image commandId="org.kalypso.ogc.gml.map.ZoomOutCommand" icon="icons/map/zoomoutstatic.gif" />
		<image commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand" icon="icons/map/zoominstatic.gif" />
		<image commandId="org.kalypso.ogc.gml.map.MoveLeftCommand" icon="icons/map/moveleft.gif" />
		<image commandId="org.kalypso.ogc.gml.map.MoveDownCommand" icon="icons/map/movedown.gif" />
		<image commandId="org.kalypso.ogc.gml.map.MoveUpCommand" icon="icons/map/moveup.gif" />
		<image commandId="org.kalypso.ogc.gml.map.MoveRightCommand" icon="icons/map/moveright.gif" />
		<image commandId="org.kalypso.ogc.gml.map.FullExtentCommand" icon="icons/map/maximize2.gif" />
		<image commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand" icon="icons/map/zoomactivelayer2.gif" />
		<image commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand" icon="icons/map/zoomToSelectedFeatures.gif" />
		<image commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand" icon="icons/map/panToSelectedFeatures.gif" />
		<image commandId="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand" icon="icons/map/extentHistoryPrev.gif" />
		<image commandId="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand" icon="icons/map/extentHistoryNext.gif" />
		<image commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand" icon="icons/map/zoomin.gif" />
		<image commandId="org.kalypso.ogc.gml.map.PanToCommand" icon="icons/map/pan.gif" />
  <image
        commandId="org.kalypso.ogc.gml.map.ExportClipboardCommand"
        icon="icons/map/exportClipboard.gif">
  </image>
		<image commandId="org.kalypso.ogc.gml.map.Screenshot" icon="icons/map/screenshot.gif" />
  <image
        commandId="org.kalypso.ogc.gml.map.ExportPdfCommand"
        icon="icons/map/exportPDF.gif">
  </image>
		<image commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand" icon="icons/map/themeInfo.gif" />
  <image
        commandId="org.kalypso.ogc.gml.map.GetFeatureInfoCommand"
        icon="icons/map/themeInfo.gif">
  </image>
		<image commandId="org.kalypso.ogc.gml.map.OpenOutlineCommand" icon="icons/map/show_outline.gif" />
		<image commandId="org.kalypso.ui.map.selectFirstFeatureCommand" disabledIcon="icons/map/firstFeature_gray.gif" icon="icons/map/firstFeature.gif" />
		<image commandId="org.kalypso.ui.map.selectNextFeatureCommand" disabledIcon="icons/map/nextFeature_gray.gif" icon="icons/map/nextFeature.gif" />
		<image commandId="org.kalypso.ui.map.selectPreviousFeatureCommand" disabledIcon="icons/map/prevFeature_gray.gif" icon="icons/map/prevFeature.gif" />
		<image commandId="org.kalypso.ui.map.selectLastFeatureCommand" disabledIcon="icons/map/lastFeature_gray.gif" icon="icons/map/lastFeature.gif" />
		<image commandId="org.kalypso.ogc.gml.map.MeasureMapCommand" disabledIcon="icons/map/measureTool_gray.gif" icon="icons/map/measureTool.gif" />
		<image commandId="org.kalypso.ogc.gml.map.FindElementMapCommand" disabledIcon="icons/map/earth_search_gray.gif" icon="icons/map/earth_search.gif" />
		<image commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand" icon="icons/map/select_feature.gif" />
		<image commandId="org.kalypso.ogc.gml.map.SelectSingleFeatureCommand" icon="icons/map/select_feature.gif" />
		<image commandId="org.kalypso.ogc.gml.map.SaveThemeCommand" disabledIcon="icons/map/save_edit_disabled.gif" icon="icons/feature/save_GML.gif" />
		<image commandId="org.kalypso.ogc.gml.map.UndoCommand" disabledIcon="icons/map/undo_edit_disabled.gif" icon="icons/map/undo_edit.gif" />
		<image commandId="org.kalypso.ogc.gml.map.RedoCommand" disabledIcon="icons/map/redo_edit_disabled.gif" icon="icons/map/redo_edit.gif" />
	</extension>
		
	<!-- Map-Outline -->
	<extension point="org.eclipse.ui.commandImages">
		<!--image commandId="org.kalypso.ui.map.outline.command.ToggleCompactOutline" icon="" /-->
		<image commandId="org.kalypso.ui.map.outline.command.CollapseOutline" icon="icons/map/outline_collapse_all.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.ExpandOutline" icon="icons/map/outline_expand_all.gif" />

		<image commandId="org.kalypso.ui.map.outline.command.ZoomToSelectedTheme" icon="icons/full/elcl16/impl_co.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.ActivateTheme" icon="icons/full/elcl16/newpack_wiz.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.MoveThemeDown" icon="icons/full/elcl16/next_nav.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.MoveThemeUp" icon="icons/full/elcl16/prev_nav.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.RemoveTheme" icon="icons/full/elcl16/remove.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.OpenStyleDialog" icon="icons/sldeditor/styleEditor.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.NodeProperties" icon="icons/full/elcl16/nodeProperties.gif" />

		<image commandId="org.kalypso.ui.map.outline.command.AddNode" icon="icons/full/elcl16/nodeAdd.gif" />
		<image commandId="org.kalypso.ui.map.outline.command.RemoveNode" icon="icons/full/elcl16/nodeRemove.gif" />
	</extension>
	
	<extension id="org.kalypso.ui.repositoryContainerCommands" name="Repository Container Commands" point="org.eclipse.ui.commands">
		<category id="org.kalypo.ui.commandCategory.repositoryContainer" name="%category.name.6"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" defaultHandler="org.kalypso.ogc.sensor.view.actions.AddRepositoryHandler" description="%command.description.13" id="org.kalypso.ui.command.repositoryAdd" name="%command.name.17"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.14" id="org.kalypso.ui.command.repositoryRemove" name="%command.name.18"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.15" id="org.kalypso.ui.command.repositoryConfigure" name="%command.name.19"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.16" id="org.kalypso.ui.command.repositoryReload" name="%command.name.20"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.17" id="org.kalypso.ui.command.repositoryDumpStructure" name="%command.name.21"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%org.kalypso.ui.command.repositoryDumpExtended.description" id="org.kalypso.ui.command.repositoryDumpExtended" name="%org.kalypso.ui.command.repositoryDumpExtended.name"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" defaultHandler="org.kalypso.ogc.sensor.view.actions.CollapseAllHandler" description="%command.description.18" id="org.kalypso.ui.command.repositoryCollapseAll" name="%command.name.22"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.19" id="org.kalypso.ui.command.repositoryExportAsFile" name="%command.name.23"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.20" id="org.kalypso.ui.command.repositoryCopyLink" name="%command.name.24"/>
		<command categoryId="org.kalypo.ui.commandCategory.repositoryContainer" description="%command.description.21" id="org.kalypso.ui.command.repositoryShowWQ" name="%command.name.25"/>
	</extension>
	<extension point="org.eclipse.ui.commandImages">
		<image commandId="org.kalypso.ui.command.repositoryAdd" icon="icons/repository/repository_add.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryRemove" icon="icons/repository/repository_remove.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryConfigure" icon="icons/util/settings.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryReload" icon="icons/util/update.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryDumpStructure" icon="icons/repository/repository_rep.gif"/>
		<image commandId="org.kalypso.ui.command.repositoryDumpExtended" icon="icons/repository/repository_rep.gif"/>
		<image commandId="org.kalypso.ui.command.repositoryCollapseAll" icon="icons/util/tree_collapse_all.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryExportAsFile" icon="icons/repository/zml_download.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryCopyLink" icon="icons/observation/observation_link.gif">
		</image>
		<image commandId="org.kalypso.ui.command.repositoryShowWQ" icon="icons/util/filter.gif">
		</image>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler class="org.kalypso.ogc.sensor.view.actions.ConfigurePreviewHandler" commandId="org.kalypso.ui.command.repositoryConfigure">
			<enabledWhen>
				<reference definitionId="repositorySelection">
				</reference>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.RemoveRepositoryHandler" commandId="org.kalypso.ui.command.repositoryRemove">
			<enabledWhen>
				<reference definitionId="repositorySelection">
				</reference>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.DumpStructureHandler" commandId="org.kalypso.ui.command.repositoryDumpStructure">
			<enabledWhen>
				<reference definitionId="repositorySelection">
				</reference>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.DumpExtendedHandler" commandId="org.kalypso.ui.command.repositoryDumpExtended">
			<enabledWhen>
				<reference definitionId="repositoryItemSelection"/>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.ExportAsFileHandler" commandId="org.kalypso.ui.command.repositoryExportAsFile">
			<enabledWhen>
				<reference definitionId="repositoryItemSelection">
				</reference>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.ReloadHandler" commandId="org.kalypso.ui.command.repositoryReload">
			<enabledWhen>
				<reference definitionId="repositorySelection">
				</reference>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.CopyLinkHandler" commandId="org.kalypso.ui.command.repositoryCopyLink">
			<enabledWhen>
				<reference definitionId="repositoryItemSelection">
				</reference>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.sensor.view.actions.ViewWQRelationHandler" commandId="org.kalypso.ui.command.repositoryShowWQ">
			<enabledWhen>
				<and>
					<reference definitionId="repositoryItemSelection"/>
					<with variable="selection">
						<iterate ifEmpty="false" operator="and">
				        	<test property="org.kalypso.ui.repositoryItemHasWQTable"/>
						</iterate>
					</with>
				</and>
			</enabledWhen>
		</handler>
	</extension>
	<extension point="org.kalypso.core.featureviewComparator">
		<comparator class="org.eclipse.jface.viewers.ViewerComparator" id="org.kalypso.ui.featureview.comparators.defaultComparator">
		</comparator>
		<comparator class="org.kalypso.ogc.gml.featureview.control.comparators.FeatureViewerComparator" id="org.kalypso.ui.featureview.comparators.featureComparator">
		</comparator>
	</extension>
	<extension point="org.eclipse.core.expressions.definitions">
		<definition id="mapContext">
			<with variable="activeContexts">
				<iterate ifEmpty="false" operator="or">
					<equals value="org.kalypso.ogc.gml.map.context" />
				</iterate>
			</with>
		</definition>
		<definition id="repositorySelection">
			<with variable="selection">
				<iterate ifEmpty="false" operator="and">
					<instanceof value="org.kalypso.repository.IRepository">
					</instanceof>
				</iterate>
			</with>
		</definition>
		<definition id="repositoryItemSelection">
			<with variable="selection">
				<iterate ifEmpty="false" operator="and">
					<instanceof value="org.kalypso.repository.IRepositoryItem">
					</instanceof>
				</iterate>
			</with>
		</definition>
	</extension>
	<extension point="org.eclipse.ui.contexts">
		<context id="org.kalypso.ogc.gml.map.context" name="%context.name.0" parentId="org.eclipse.ui.contexts.window" />
        <context id="org.kalypso.ogc.gml.tree.context" name="Gml Tree" parentId="org.eclipse.ui.contexts.window"/>
        <context id="org.kalypso.ogc.gml.table.context" name="Gml Table" parentId="org.eclipse.ui.contexts.window"/>
        <context id="org.kalypso.ui.tupleResult.table.context" name="Tuple Result Table" parentId="org.eclipse.ui.contexts.window"/>
	</extension>
	<extension point="org.kalypso.ui.featureViewExtensionControl">
		<extensionControl class="org.kalypso.ogc.gml.featureview.control.ChecklistOfLinksFeatureviewControlFactory" id="org.kalypso.ogc.gml.featureview.control.ChecklistOfLinksFeatureviewControlFactory">
		</extensionControl>
	</extension>
	<extension point="org.kalypso.core.themeInfo">
		<themeInfo class="org.kalypso.ogc.gml.map.themes.DefaultFeatureThemeInfo" id="org.kalypso.ui.featureThemeInfo.default">
		</themeInfo>
	</extension>
	<extension point="org.kalypso.ui.componentUiHandlerProvider">
		<provider class="org.kalypso.ogc.gml.om.table.handlers.DefaultComponentUiHandlerProvider" id="org.kalypso.ogc.gml.om.table.handlers.DefaultComponentUiHandlerProvider"/>
		<provider class="org.kalypso.ogc.gml.om.table.handlers.DefaultComponentUiHandlerProvider2" id="org.kalypso.ogc.gml.om.table.handlers.DefaultComponentUiHandlerProvider2"/>
	</extension>
	<extension point="org.eclipse.ui.commands">
		<category description="%category.description.2" id="org.kalypso.ui.tupleResult.category" name="%category.name.7"/>
		
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%command.description.22" id="org.kalypso.ui.tupleResult.copyToClipboardCommand" name="%command.name.26"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%org.kalypso.ui.tupleResult.selectAll.description" id="org.kalypso.ui.tupleResult.selectAll" name="%org.kalypso.ui.tupleResult.selectAll.name"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%command.description.23" id="org.kalypso.ui.tupleResult.pasteFromClipboardCommand" name="%command.name.27"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%command.description.24" id="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand" name="%command.name.28"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%command.description.25" id="org.kalypso.ui.tupleResult.moveUpSelectedRowsCommand" name="%command.name.29"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%command.description.26" id="org.kalypso.ui.tupleResult.addRowCommand" name="%command.name.30"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%org.kalypso.ui.tupleResult.insertRowCommand.description" id="org.kalypso.ui.tupleResult.insertRowCommand" name="%org.kalypso.ui.tupleResult.insertRowCommand.name"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%command.description.27" id="org.kalypso.ui.tupleResult.moveDownSelectedRowsCommand" name="%command.name.31"/>
		
		<!-- FIXME: wrong category! -->
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%org.kalypso.ogc.gml.featureview.toolbar.AddFeatureHandler.description" id="org.kalypso.ogc.gml.featureview.toolbar.AddFeatureHandler" name="%org.kalypso.ogc.gml.featureview.toolbar.AddFeatureHandler.name"/>
		<command categoryId="org.kalypso.ui.tupleResult.category" description="%org.kalypso.ogc.gml.featureview.toolbar.DeleteFeatureHandler.description" id="org.kalypso.ogc.gml.featureview.toolbar.DeleteFeatureHandler" name="%org.kalypso.ogc.gml.featureview.toolbar.DeleteFeatureHandler.name"/>
	</extension>
	<extension point="org.eclipse.ui.bindings">
	       <key commandId="org.kalypso.ui.tupleResult.selectAll" contextId="org.kalypso.ogc.gml.map.context" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="M1+A" />
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler class="org.kalypso.ogc.gml.om.table.command.CopyToClipboardHandler" commandId="org.kalypso.ui.tupleResult.copyToClipboardCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.SelectAllHandler" commandId="org.kalypso.ui.tupleResult.selectAll">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.PasteFromClipboardHandler" commandId="org.kalypso.ui.tupleResult.pasteFromClipboardCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.DeleteSelectedRowsHandler" commandId="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.MoveUpSelectedRowsHandler" commandId="org.kalypso.ui.tupleResult.moveUpSelectedRowsCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.AddRowHandler" commandId="org.kalypso.ui.tupleResult.addRowCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.InsertRowHandler" commandId="org.kalypso.ui.tupleResult.insertRowCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.om.table.command.MoveDownSelectedRowsHandler" commandId="org.kalypso.ui.tupleResult.moveDownSelectedRowsCommand">
		</handler>
		<handler class="org.kalypso.ogc.gml.featureview.toolbar.AddFeatureHandler" commandId="org.kalypso.ogc.gml.featureview.toolbar.AddFeatureHandler">
		</handler>
		<handler class="org.kalypso.ogc.gml.featureview.toolbar.DeleteFeatureHandler" commandId="org.kalypso.ogc.gml.featureview.toolbar.DeleteFeatureHandler">
		</handler>
	</extension>
	
	<extension point="org.eclipse.ui.commandImages">
		<image commandId="org.kalypso.ui.tupleResult.copyToClipboardCommand" icon="icons/table/copy.gif">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.selectAll" icon="icons/table/selectAll.png">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.pasteFromClipboardCommand" icon="icons/table/paste_edit.gif">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand" icon="icons/table/remove.gif">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.moveUpSelectedRowsCommand" icon="icons/util/up.gif">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.addRowCommand" icon="icons/gistable/add_row.gif">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.insertRowCommand" icon="icons/gistable/insert_row.gif">
		</image>
		<image commandId="org.kalypso.ui.tupleResult.moveDownSelectedRowsCommand" icon="icons/util/down.gif">
		</image>
		
		<image commandId="org.kalypso.ogc.gml.featureview.toolbar.AddFeatureHandler" icon="icons/gistable/add_row.gif">
		</image>
		<image commandId="org.kalypso.ogc.gml.featureview.toolbar.DeleteFeatureHandler" icon="icons/table/remove.gif">
		</image>
			
	</extension>

	<!-- TupleResult-FeatureControl: standard tollbars -->
	<extension point="org.eclipse.ui.menus">
		<!-- Standard Add/Remove Rows -->
		<menuContribution locationURI="toolbar:org.kalypso.ui.tupleResult.menus.standardEdit">
			<command commandId="org.kalypso.ui.tupleResult.selectAll" style="push"/>
			<separator name="selection" visible="true"/>
			<command commandId="org.kalypso.ui.tupleResult.copyToClipboardCommand" style="push"/>
			<command commandId="org.kalypso.ui.tupleResult.pasteFromClipboardCommand" style="push"/>
			<separator name="row" visible="true"/>
			<command commandId="org.kalypso.ui.tupleResult.addRowCommand" style="push"/>
			<command commandId="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand" style="push"/>
			<separator name="additions" visible="true"/>
		</menuContribution>

		<!-- Standard Only-Copy -->
		<menuContribution locationURI="toolbar:org.kalypso.ui.tupleResult.menus.standardReadOnly">
            <command commandId="org.kalypso.ui.tupleResult.selectAll" style="push"/>
            <separator name="selection" visible="true"/>
			<command commandId="org.kalypso.ui.tupleResult.copyToClipboardCommand" style="push"/>
		</menuContribution>
	</extension>

	<extension point="org.kalypso.ui.typeHandlers">
		<typeHandler factory="org.kalypso.ui.KalypsoGuiTypeHandlerFactory">
		</typeHandler>
	</extension>
	
	<!-- Schema-Editor -->
	<extension point="org.eclipse.ui.commands">
		<category description="Schema Editor Commands" id="org.kalypso.ui.category.schemaEditor" name="Schema Editor"/>
		<command categoryId="org.kalypso.ui.category.schemaEditor" id="org.kalypso.ogc.gml.schemaeditor.ExportI18nProperties" name="Export I18N"/>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler class="org.kalypso.ogc.gml.schemaeditor.ExportI18nPropertiesHandler" commandId="org.kalypso.ogc.gml.schemaeditor.ExportI18nProperties"/>
	</extension>	
	<extension point="org.eclipse.ui.commandImages">
		<image commandId="org.kalypso.ogc.gml.schemaeditor.ExportI18nProperties" icon="icons/schemaeditor/exportI18n.gif"/>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
			<toolbar id="org.kalypso.ui.menus.schemaEditorToolbar">
				<command commandId="org.kalypso.ogc.gml.schemaeditor.ExportI18nProperties" style="push">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor" />
						</with>
					</visibleWhen>
				</command>
			</toolbar>
		</menuContribution>
	</extension>
	
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
			<toolbar id="org.kalypso.ui.menus.mapToolbar">
				<!-- This visible when does not work (in contrast to the global menu), so we must put it into every sub-element. Bug-Report to eclipse? -->
				<visibleWhen checkEnabled="false">
					<with variable="activeEditorId">
						<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
					</with>
				</visibleWhen>
				<separator name="widgets" visible="false" />
				<command commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.tooltip">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.PanToCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.tooltip">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.label" style="radio" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.tooltip">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.MeasureMapCommand" style="radio">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.FindElementMapCommand" style="radio">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<dynamic class="org.kalypso.ogc.gml.map.widgets.newfeature.NewFeatureToolbarContribution" id="org.kalypso.gis.newFeature.menuContribution">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</dynamic>
				<separator name="widgetAdditions" visible="false">
					<!-- Additional widgets (especially those which's visibility depends on a certain layer/datatype) should be
					added before this separator  -->
				</separator>
				<separator name="klickNavigation" visible="true" />
				<command commandId="org.kalypso.ogc.gml.map.FullExtentCommand" style="push" tooltip="%org.kalypso.ogc.gml.map.FullExtentCommand.description">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand" style="push">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand" style="push">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.ZoomOutCommand" style="push">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<dynamic id="org.kalypso.ogc.gml.map.move">
					<class class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
						<parameter name="command1" value="org.kalypso.ogc.gml.map.MoveLeftCommand" />
						<parameter name="command2" value="org.kalypso.ogc.gml.map.MoveUpCommand" />
						<parameter name="command3" value="org.kalypso.ogc.gml.map.MoveDownCommand" />
						<parameter name="command4" value="org.kalypso.ogc.gml.map.MoveRightCommand" />
					</class>
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</dynamic>
				<command commandId="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand" style="push">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand" style="push">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<separator name="data" visible="true" />
				<command commandId="org.kalypso.ogc.gml.map.SaveThemeCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.tooltip">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.UndoCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.tooltip">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<command commandId="org.kalypso.ogc.gml.map.RedoCommand" label="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.label" style="push" tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.tooltip">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<separator name="export" visible="true" />
				<command commandId="org.kalypso.ogc.gml.map.Screenshot" style="push" tooltip="%org.kalypso.ogc.gml.map.Screenshot.description">
					<visibleWhen checkEnabled="false">
						<with variable="activeEditorId">
							<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
						</with>
					</visibleWhen>
				</command>
				<separator name="additions" visible="false" />
			</toolbar>
		</menuContribution>
	</extension>
	
	<!-- Map -->
	<extension point="org.eclipse.ui.handlers">
		<handler class="org.kalypso.ogc.gml.map.handlers.ZoomOutHandler" commandId="org.kalypso.ogc.gml.map.ZoomOutCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.ZoomInStaticHandler" commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.MoveDownHandler" commandId="org.kalypso.ogc.gml.map.MoveDownCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.MoveUpHandler" commandId="org.kalypso.ogc.gml.map.MoveUpCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.MoveLeftHandler" commandId="org.kalypso.ogc.gml.map.MoveLeftCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.MoveRightHandler" commandId="org.kalypso.ogc.gml.map.MoveRightCommand"/>
		<handler class="org.kalypso.ogc.gml.map.widgets.newfeature.NewFeatureHandler" commandId="org.kalypso.gis.newFeature.command">
			<enabledWhen>
				<with variable="activeMapPanel">
					<test property="org.kalypso.ui.test.map.activeTheme.isNotNull" />
				</with>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.gml.map.handlers.ZoomToActiveLayerHandler" commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand">
			<enabledWhen>
				<with variable="activeMapPanel">
					<test property="org.kalypso.ui.test.map.activeTheme.hasExtent" />
				</with>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.gml.map.handlers.ZoomToSelectedFeatures" commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.ZoomToSelectedFeaturesByLayer" commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesByLayerCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.PanToSelectedFeature" commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand"/>
  <handler
        commandId="org.kalypso.ogc.gml.map.ExportClipboardCommand">
     <class
           class="org.kalypso.ogc.gml.map.handlers.ExportClipboardHandler">
     </class>
  </handler>
		<handler class="org.kalypso.ogc.gml.map.handlers.ScreenshotHandler" commandId="org.kalypso.ogc.gml.map.Screenshot"/>
  <handler
        class="org.kalypso.ogc.gml.map.handlers.ExportPdfHandler"
        commandId="org.kalypso.ogc.gml.map.ExportPdfCommand">
  </handler>
		<handler class="org.kalypso.ogc.gml.map.handlers.FullExtentHandler" commandId="org.kalypso.ogc.gml.map.FullExtentCommand"/>
  <handler commandId="org.kalypso.ogc.gml.map.GetFeatureInfoCommand">
     <class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
        <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.GetFeatureInfoWidget"/>
     </class>
  </handler>
		<handler commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.ThemeInfoWidget" />
			</class>
		</handler>
		<handler commandId="org.kalypso.ui.map.selectFirstFeatureCommand">
			<class class="org.kalypso.ui.editor.mapeditor.commands.SelectNextFeatureHandler">
				<parameter name="forward" value="false" />
				<parameter name="firstlast" value="true" />
			</class>
            <enabledWhen>
                <with variable="activeMapPanel">
                    <test property="org.kalypso.ui.test.map.activeTheme.isFeatureTheme" />
                </with>
            </enabledWhen>			
		</handler>
		<handler commandId="org.kalypso.ui.map.selectNextFeatureCommand">
			<class class="org.kalypso.ui.editor.mapeditor.commands.SelectNextFeatureHandler">
				<parameter name="forward" value="true" />
				<parameter name="rotate" value="false" />
				<parameter name="image" value="icons/util/forward_nav.gif" />
			</class>
            <enabledWhen>
                <with variable="activeMapPanel">
                    <test property="org.kalypso.ui.test.map.activeTheme.isFeatureTheme" />
                </with>
            </enabledWhen>			
		</handler>
		<handler commandId="org.kalypso.ui.map.selectPreviousFeatureCommand">
			<class class="org.kalypso.ui.editor.mapeditor.commands.SelectNextFeatureHandler">
				<parameter name="forward" value="false" />
				<parameter name="rotate" value="false" />
				<parameter name="image" value="icons/util/backward_nav.gif" />
			</class>
            <enabledWhen>
                <with variable="activeMapPanel">
                    <test property="org.kalypso.ui.test.map.activeTheme.isFeatureTheme" />
                </with>
            </enabledWhen>			
		</handler>
        <handler commandId="org.kalypso.ui.map.selectLastFeatureCommand">
            <class class="org.kalypso.ui.editor.mapeditor.commands.SelectNextFeatureHandler">
                <parameter name="forward" value="true" />
                <parameter name="firstlast" value="true" />
            </class>
            <enabledWhen>
                <with variable="activeMapPanel">
                    <test property="org.kalypso.ui.test.map.activeTheme.isFeatureTheme" />
                </with>
            </enabledWhen>            
        </handler>
		<handler class="org.kalypso.ogc.gml.map.handlers.OpenOutlineHandler" commandId="org.kalypso.ogc.gml.map.OpenOutlineCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.ExtentHistoryPrevHandler" commandId="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.ExtentHistoryNextHandler" commandId="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand"/>
		<handler commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.ZoomInByRectWidget" />
			</class>
		</handler>
		<handler commandId="org.kalypso.ogc.gml.map.PanToCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.widgets.base.PanToWidget" />
    <parameter
          name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin"
          value="org.kalypso.core">
    </parameter>
			</class>
		</handler>
		<handler commandId="org.kalypso.ogc.gml.map.MeasureMapCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.MeasureMapWidget" />
			</class>
		</handler>
		<handler commandId="org.kalypso.ogc.gml.map.FindElementMapCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.FindElementMapWidget" />
			</class>
		</handler>
		<handler commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.SelectWidget" />
			</class>
			<enabledWhen>
				<with variable="activeMapPanel">
					<test property="org.kalypso.ui.test.map.activeTheme.isFeatureTheme" />
				</with>
			</enabledWhen>
		</handler>
		<handler commandId="org.kalypso.ogc.gml.map.SelectSingleFeatureCommand">
			<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
				<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.ogc.gml.map.widgets.SelectSingleFeatureWidget" />
			</class>
			<enabledWhen>
				<with variable="activeMapPanel">
					<test property="org.kalypso.ui.test.map.activeTheme.isFeatureTheme" />
				</with>
			</enabledWhen>
		</handler>
		<handler class="org.kalypso.ogc.gml.map.handlers.SaveThemeHandler" commandId="org.kalypso.ogc.gml.map.SaveThemeCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.UndoHandler" commandId="org.kalypso.ogc.gml.map.UndoCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.RedoHandler" commandId="org.kalypso.ogc.gml.map.RedoCommand"/>
		<handler class="org.kalypso.ogc.gml.map.handlers.PrintMapHandler" commandId="org.eclipse.ui.file.print"/>
	</extension>

	<!-- Map-Outline -->
	<extension point="org.eclipse.ui.handlers">
		<handler commandId="org.kalypso.ui.map.outline.command.ToggleCompactOutline" class="org.kalypso.ogc.gml.outline.handler.ToggleCompactOutlineHandler" />
		<handler commandId="org.kalypso.ui.map.outline.command.CollapseOutline" class="org.kalypso.ogc.gml.outline.handler.CollapseOutlineHandler" />
		<handler commandId="org.kalypso.ui.map.outline.command.ExpandOutline" class="org.kalypso.ogc.gml.outline.handler.ExpandOutlineHandler" />
	
		<handler commandId="org.kalypso.ui.map.outline.command.ZoomToSelectedTheme" class="org.kalypso.ogc.gml.outline.handler.ZoomToSelectedThemeHandler">
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.someThemesSelected"/>
			</enabledWhen>
		</handler>
		<handler commandId="org.kalypso.ui.map.outline.command.ActivateTheme" class="org.kalypso.ogc.gml.outline.handler.ActivateThemeHandler">
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.oneThemeSelected"/>
			</enabledWhen>
		</handler>
		<handler commandId="org.kalypso.ui.map.outline.command.MoveThemeDown" class="org.kalypso.ogc.gml.outline.handler.MoveThemeDownHandler">
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.someThemesSelected"/>
			</enabledWhen>
		</handler>
		<handler commandId="org.kalypso.ui.map.outline.command.MoveThemeUp" class="org.kalypso.ogc.gml.outline.handler.MoveThemeUpHandler" >
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.someThemesSelected"/>
			</enabledWhen>
		</handler>
		<handler commandId="org.kalypso.ui.map.outline.command.RemoveTheme" class="org.kalypso.ogc.gml.outline.handler.RemoveThemeHandler" >
			<enabledWhen>
				<with variable="selection">
					<iterate ifEmpty="false" operator="and">
					    <adapt type="org.kalypso.ogc.gml.IKalypsoTheme">
						  <test property="org.kalypso.ui.test.theme.property" args="deleteable" value="true"/>
						</adapt>
					</iterate>
				</with>
			</enabledWhen>
		</handler>

		<handler commandId="org.kalypso.ui.map.outline.command.OpenStyleDialog" class="org.kalypso.ogc.gml.outline.handler.OpenStyleDialogHandler" >
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.someThemesSelected"/>
			</enabledWhen>
		</handler>

		<handler commandId="org.kalypso.ui.map.outline.command.NodeProperties" class="org.kalypso.ogc.gml.outline.handler.NodePropertiesHandler" >
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.oneThemeNodeSelected"/>
			</enabledWhen>
		</handler>

		<handler commandId="org.kalypso.ui.map.outline.command.AddNode" class="org.kalypso.ogc.gml.outline.handler.AddNodeHandler" >
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.oneThemeNodeSelected"/>
			</enabledWhen>
		</handler>

		<handler commandId="org.kalypso.ui.map.outline.command.RemoveNode" class="org.kalypso.ogc.gml.outline.handler.RemoveNodeHandler" >
			<enabledWhen>
				<reference definitionId="org.kalypso.ui.definition.oneThemeNodeSelected"/>
			</enabledWhen>
		</handler>
	</extension>
	
	<extension point="org.eclipse.core.expressions.definitions">
		<definition id="org.kalypso.ogc.gml.map.GISEditorIsActive">
			<with variable="activeEditorId">
				<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor"/>
			</with>
		</definition>
		<definition id="org.kalypso.ogc.gml.map.GisEditorOrMapIsActive">
			<or>
				<with variable="activeEditor">
					<instanceof value="org.kalypso.ui.editor.mapeditor.AbstractMapPart">
					</instanceof>
				</with>
				<with variable="activePart">
					<instanceof value="org.kalypso.ui.editor.mapeditor.AbstractMapPart">
					</instanceof>
				</with>
			</or>
		</definition>
		<definition id="org.kalypso.ogc.gml.map.GisEditorIsActivePart">
			<with variable="activePartId">
				<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor">
				</equals>
			</with>
		</definition>
		<definition id="featureSelected">
			<iterate ifEmpty="false" operator="or">
				<or>
					<instanceof value="org.kalypsodeegree_impl.model.feature.Feature_Impl"/>
				</or>
			</iterate>
		</definition>
		<definition id="org.kalypso.ui.definition.someThemesSelected">
			<with variable="selection">
				<iterate ifEmpty="false" operator="and">
					<adapt type="org.kalypso.ogc.gml.IKalypsoTheme"/>
				</iterate>
			</with>
		</definition>
		<definition id="org.kalypso.ui.definition.oneThemeSelected">
			<with variable="selection">
		      <and>
				<count value="1"/>
				<iterate ifEmpty="false" operator="and">
					<adapt type="org.kalypso.ogc.gml.IKalypsoTheme"/>
				</iterate>
		      </and>
			</with>
		</definition>
		<definition id="org.kalypso.ui.definition.oneFeatureThemeSelected">
			<with variable="selection">
				<and>
					<count value="1"/>
					<iterate ifEmpty="false" operator="and">
                        <adapt type="org.kalypso.ogc.gml.IKalypsoFeatureTheme"/>
					</iterate>
				</and>
			</with>
		</definition>
		<definition id="org.kalypso.ui.definition.oneThemeNodeSelected">
			<with variable="selection">
				<and>
					<count value="1"/>
					<iterate ifEmpty="false" operator="and">
						<instanceof value="org.kalypso.ogc.gml.outline.nodes.IThemeNode"/>
					</iterate>
				</and>
			</with>
		</definition>
		<definition id="org.kalypso.ui.definition.someThemeNodesSelected">
			<with variable="selection">
				<iterate ifEmpty="false" operator="and">
					<instanceof value="org.kalypso.ogc.gml.outline.nodes.IThemeNode"/>
				</iterate>
			</with>
		</definition>
	</extension>
	<extension point="org.kalypso.core.poolLoader">
		<loader class="org.kalypso.ogc.sensor.loaders.ZmlLoader" type="zml" />
		<loader class="org.kalypso.ogc.gml.loader.SldLoader" type="sld" />
		<loader class="org.kalypso.ogc.gml.loader.WfsLoader" type="wfs" />
	</extension>
	<extension point="org.eclipse.core.expressions.propertyTesters">
		<propertyTester class="org.kalypso.ogc.gml.map.properties.ThemeTester" id="org.kalypso.ogc.gml.map.ThemeTester" namespace="org.kalypso.ui.test.theme" properties="isNotNull,qname,hasExtent,isFeatureTheme,property,isCascading" type="org.kalypso.ogc.gml.IKalypsoTheme" />

	    <!-- The next three tester are delegates to the ThemeTester; so every change to the properties of ThemeTester should also go into these two -->
		<propertyTester class="org.kalypso.ogc.gml.map.properties.PropertyThemeTester" id="org.kalypso.ogc.gml.map.PropertyThemeTester" namespace="org.kalypso.ui.test.map.themeProperty" properties="hasProperty,isNotNull,hasExtent,isFeatureTheme,isCascading" type="org.kalypso.ogc.gml.map.IMapPanel" />
		<propertyTester class="org.kalypso.ogc.gml.map.properties.ActiveThemeTester" id="org.kalypso.ogc.gml.map.ActiveThemeTester" namespace="org.kalypso.ui.test.map.activeTheme" properties="isNotNull,qname,hasExtent,isFeatureTheme,property,isCascading" type="org.kalypso.ogc.gml.map.IMapPanel" />
        <propertyTester class="org.kalypso.ogc.gml.map.properties.HasThemeTester" id="org.kalypso.ogc.gml.map.HasThemeTester" namespace="org.kalypso.ui.test.map.hasTheme" properties="isNotNull,qname,hasExtent,isFeatureTheme,property,isCascading" type="org.kalypso.ogc.gml.map.IMapPanel" />
        
		<propertyTester class="org.kalypso.ogc.sensor.properties.RepositoryItemPropertyTester" id="org.kalypso.ogc.sensor.properties.RepositoryItemPropertyTester" namespace="org.kalypso.ui" properties="repositoryItemHasWQTable" type="org.kalypso.repository.IRepositoryItem" />
		<propertyTester class="org.kalypso.ui.internal.utils.WorkbenchWindowPropertyTest" id="org.kalypso.ui.internal.utils.WorkbenchWindowPropertyTest" namespace="org.kalypso.ui.window" properties="isEditorAreaVisible,isViewVisible" type="org.eclipse.ui.IWorkbenchWindow" />
	</extension>
   <extension
         point="org.kalypso.ui.addlayer.WMSImageProvider">
      <imageProvider
            class="org.kalypso.ogc.gml.wms.provider.images.WMSImageProvider"
            id="org.kalypso.ui.addlayer.kalypsoImageProvider"
            name="WMS Client">
      </imageProvider>
   </extension>
   
	 <extension
	       point="org.kalypso.ui.themeFactory">
     <factory
           class="org.kalypso.ogc.gml.map.themes.WmsThemeFactory"
           label="WMS Theme"
           type="wms">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.GmtThemeFactory"
           label="Cascading Theme"
           type="gmt">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.LegendThemeFactory"
           label="Legend Theme"
           type="legend">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.ScaleThemeFactory"
           label="Scale Theme"
           type="scale">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.GisTemplateThemeFactory"
           label="Feature Theme (GML)"
           type="gml">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.GisTemplateThemeFactory"
           label="Feature Theme (shape)"
           type="shape">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.GisTemplateThemeFactory"
           label="Feature Theme (WFS)"
           type="wfs">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.PictureThemeFactory"
           label="Picture Theme"
           type="tif">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.PictureThemeFactory"
           label="Picture Theme"
           type="jpg">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.PictureThemeFactory"
           label="Picture Theme"
           type="png">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.PictureThemeFactory"
           label="Picture Theme"
           type="gif">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.PictureThemeFactory"
           label="Picture Theme"
           type="gmlpic">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.ImageThemeFactory"
           label="Image Theme"
           type="image">
     </factory>
     <factory
           class="org.kalypso.ogc.gml.map.themes.TextThemeFactory"
           label="Text Theme"
           type="text">
     </factory>
	 </extension>
  <extension
        point="org.kalypso.core.featureviewFilter">
     <filter
           class="org.kalypso.ogc.gml.featureview.control.filters.FeatureViewerFilter"
           id="org.kalypso.ui.featureview.filters.defaultFilter">
     </filter>
     <filter
           class="org.kalypso.ogc.gml.featureview.control.filters.FeatureViewerFilter"
           id="org.kalypso.ui.featureview.filters.featureFilter">
     </filter>
  </extension>
  <extension
        point="org.kalypso.core.catalogContribution">
     <catalogContribution
           class="org.kalypso.ui.KalypsoUICatalogContribution"
           name="Catalog Contribution for KalypsoUI">
     </catalogContribution>
  </extension>
  
  <!-- GMV- (aka GML-) Tree -->
  <extension point="org.eclipse.ui.commands">
     <category description="GIS Tree Commands" id="org.kalypso.ogc.gml.gmltree.category" name="GIS Tree"/>
     <command categoryId="org.kalypso.ogc.gml.gmltree.category" description="%org.kalypso.ui.editor.gmleditor.actions.SaveGmlDelegate.tooltip" id="org.kalypso.ui.gmvtree.command.saveData" name="%org.kalypso.ui.editor.gmleditor.actions.SaveGmlDelegate.label"/>
     <command categoryId="org.kalypso.ogc.gml.gmltree.category" description="%org.kalypso.ui.gmvtree.command.reloadData.description" id="org.kalypso.ui.gmvtree.command.reloadData" name="%org.kalypso.ui.gmvtree.command.reloadData.name"/>
  </extension>
  <extension point="org.eclipse.ui.commandImages">
     <image commandId="org.kalypso.ui.gmvtree.command.saveData" icon="icons/feature/save_GML.gif" disabledIcon="icons/map/save_edit_disabled.gif"/>
     <image commandId="org.kalypso.ui.gmvtree.command.reloadData" icon="icons/feature/reload_gmltree.png"/>
  </extension>
  
  <extension point="org.eclipse.ui.handlers">
     <handler commandId="org.kalypso.ui.gmvtree.command.saveData" class="org.kalypso.ui.editor.gmleditor.command.SaveGmltreeHandler">
        <enabledWhen>
            <with variable="activeGmlTree">
               <test property="org.kalypso.ui.gmltree.isDataDirty"/>
            </with>
        </enabledWhen>
     </handler>
     <handler commandId="org.kalypso.ui.gmvtree.command.reloadData" class="org.kalypso.ui.editor.gmleditor.command.ReloadGmltreeHandler">
        <enabledWhen>
            <with variable="activeGmlTree">
               <test property="org.kalypso.ui.gmltree.isDataDirty"/>
            </with>
        </enabledWhen>
     </handler>
  </extension>
  <extension point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester class="org.kalypso.ui.editor.gmleditor.part.GmltreePropertyTester" id="org.kalypso.ui.editor.gmleditor.part.GmltreePropertyTester" namespace="org.kalypso.ui.gmltree" properties="isDataDirty,hasSelection" type="org.kalypso.ui.editor.gmleditor.part.GmlTreeView" />
  </extension>
  
  <!-- General purpose commands -->
  <extension point="org.eclipse.ui.commands">
     <command description="%org.kalypso.ui.command.import.description" id="org.kalypso.ui.command.import" name="%org.kalypso.ui.command.import.name"/>
     <command description="%org.kalypso.ui.command.export.description" id="org.kalypso.ui.command.export" name="%org.kalypso.ui.command.export.name"/>
  </extension>
  <extension point="org.eclipse.ui.commandImages">
     <image commandId="org.kalypso.ui.command.import" icon="icons/util/import_wiz.gif"/>
     <image commandId="org.kalypso.ui.command.export" icon="icons/feature/export_gmltree.gif"/>
  </extension>
  <extension point="org.eclipse.ui.handlers">
     <handler commandId="org.kalypso.ui.command.import" class="org.kalypso.ui.internal.imports.ImportWizardsHandler">
        <activeWhen>
           <test
                 args="org.kalypso.ui,importWizards"
                 forcePluginActivation="true"
                 property="org.kalypso.contribs.eclipsercp.genericWizardTester.isEnabled">
           </test>
        </activeWhen>
     </handler>
     <handler commandId="org.kalypso.ui.command.export" class="org.kalypso.ui.internal.export.ExportWizardsHandler">
        <activeWhen>
           <test args="org.kalypso.ui,exportWizards" forcePluginActivation="true" property="org.kalypso.contribs.eclipsercp.genericWizardTester.isEnabled"/>
        </activeWhen>
     </handler>
  </extension>
  <extension point="org.kalypso.ui.exportWizards">
     <category id="exportWizards" name="Export Wizards"/>
     <wizard
           category="exportWizards"
           class="org.kalypso.ogc.gml.outline.handler.ExportGMLWizard"
           id="org.kalypso.ogc.gml.outline.handler.ExportGMLWizard"
           name="%command.name.15"
           icon="icons/full/obj16/exportGml.gif">
           <description>%command.tooltip.3</description>
     </wizard>
     <wizard
           category="exportWizards"
           class="org.kalypso.ogc.gml.outline.handler.ExportLegendWizard"
           id="org.kalypso.ogc.gml.outline.handler.ExportLegendWizard"
           icon="icons/full/obj16/exportLegend.gif"
           name="%command.name.16">
           <description>%command.tooltip.4</description>
     </wizard>
     <wizard
           category="exportWizards"
           class="org.kalypso.ogc.gml.outline.handler.ExportSLDWizard"
           id="org.kalypso.ogc.gml.outline.handler.ExportSLDWizard"
           icon="icons/full/obj16/exportSld.gif"
           name="Styled Layer Descriptor (SLD)">
           <description>Export styling of selected layer in sld format</description>
     </wizard>
  </extension>
  <extension
        point="org.kalypso.contribs.eclipsercp.wizardEnablement">
     <wizardEnablement wizardID="org.kalypso.ogc.gml.outline.handler.ExportGMLWizard">
        <enablement>
                <reference definitionId="org.kalypso.ui.definition.oneFeatureThemeSelected"/>
        </enablement>
     </wizardEnablement>
     <wizardEnablement wizardID="org.kalypso.ogc.gml.outline.handler.ExportLegendWizard">
        <enablement>
            <with variable="selection">
                <iterate ifEmpty="false" operator="and">
                    <instanceof value="org.kalypso.ogc.gml.outline.nodes.ILegendProvider"/>
                </iterate>
            </with>
        </enablement>
     </wizardEnablement>
     <wizardEnablement wizardID="org.kalypso.ogc.gml.outline.handler.ExportSLDWizard">
        <enablement>
            <with variable="selection">
                <and>
                    <count value="1"/>
                    <iterate ifEmpty="false" operator="and">
                        <adapt type="org.kalypsodeegree.xml.Marshallable"/>
                    </iterate>
                </and>
            </with>
        </enablement>
     </wizardEnablement>
  </extension>
  <extension point="org.kalypso.ui.importWizards">
     <category id="importWizards" name="Import Wizards"/>
  </extension>
  <extension
        point="org.kalypso.ui.featureViewExtensionControl">
     <extensionControl
           class="org.kalypso.ogc.gml.featureview.control.ImageExternalBrowserFeatureControlFactory"
           id="imageExternalBrowser">
     </extensionControl>
  </extension>
  
    <extension point="org.eclipse.ui.commands">
         <category description="GIS Table Commands" id="org.kalypso.ogc.gml.table.category" name="GIS Table"/>
    </extension>

  <extension point="org.kalypso.core.layout">
      <layoutPartFactory id="gisMap" class="org.kalypso.ui.internal.layoutwizard.map.MapLayoutPartFactory"/>
      <layoutPartFactory id="gisTable" class="org.kalypso.ui.internal.layoutwizard.gistable.GisTableLayoutPartFactory"/>
      <layoutPartFactory id="featureView" class="org.kalypso.ui.internal.layoutwizard.featureview.FeatureViewLayoutPartFactory"/>
  </extension>
  
  <extension point="org.kalypso.ui.mapDropTarget">
     <target extension="shp" wizardId="org.kalypso.ui.wizard.shape">
     </target>
  </extension>
  <extension
        point="org.kalypso.ui.typeHandlers">
     <featureModifier
           class="org.kalypso.ogc.gml.featureview.modfier.AnnotationFeatureModifier"
           id="annotation">
     </featureModifier>
  </extension>
      
</plugin>
