<?xml version="1.0" encoding="UTF-8"?>
<ZmlTable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="schema.table.ui.zml.kalypso.org" xsi:schemaLocation="schema.table.ui.zml.kalypso.org zmltable.xsd ">
  <StyleSet>
    <Style id="alarmstufe_1">
      <property name="backgroundColor">E8E800</property>
    </Style>
    <Style id="alarmstufe_2">
      <property name="backgroundColor">FF8000</property>
    </Style>
    <Style id="alarmstufe_3">
      <property name="backgroundColor">FF8080</property>
    </Style>
    <Style id="alarmstufe_4">
      <property name="backgroundColor">FF0000</property>
    </Style>
  </StyleSet>
  <defaultStyle>
    <url>urn:org:kalypso:zml:ui:table:style:base#defaultCellStyle</url>
  </defaultStyle>


  <Rules>
    <Rule ruleReference="org.kalypso.zml.ui.table.rule.forecast.value">
      <styleReference>
        <url>urn:org:kalypso:zml:ui:table:style:base#dateForecastCellStyle</url>
      </styleReference>
    </Rule>
    <Rule ruleReference="org.kalypso.zml.ui.table.rule.user.modified">
      <styleReference>
        <url>urn:org:kalypso:zml:ui:table:style:base#userModifiedStyle</url>
      </styleReference>
    </Rule>
    <Rule ruleReference="org.kalypso.zml.ui.table.rule.value.interpolated">
      <styleReference>
        <url>urn:org:kalypso:zml:ui:table:style:base#interpolatedValueStyle</url>
      </styleReference>
    </Rule>
    <Rule ruleReference="org.kalypso.zml.ui.table.rule.wq.conflict">
      <styleReference>
        <url>urn:org:kalypso:zml:ui:table:style:base#wqConversionConflict</url>
      </styleReference>
    </Rule>
    <Rule ruleReference="org.kalypso.zml.ui.table.rule.display.alarmstufen">
      <styleReference>
        <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
      </styleReference>
      <RuleInstructions>
        <instruction metadataKey=".*Alarmstufe_1\w?" operator="GREATER_EQUAL" label="AS%s" labelTokenizer="^.+_">
          <styleReference>
            <reference>alarmstufe_1</reference>
          </styleReference>
        </instruction>
        <instruction metadataKey=".*Alarmstufe_2\w?" operator="GREATER_EQUAL" label="AS%s" labelTokenizer="^.+_">
          <styleReference>
            <reference>alarmstufe_2</reference>
          </styleReference>
        </instruction>
        <instruction metadataKey=".*Alarmstufe_3\w?" operator="GREATER_EQUAL" label="AS%s" labelTokenizer="^.+_">
          <styleReference>
            <reference>alarmstufe_3</reference>
          </styleReference>
        </instruction>
        <instruction metadataKey=".*Alarmstufe_4\w?" operator="GREATER_EQUAL" label="AS%s" labelTokenizer="^.+_">
          <styleReference>
            <reference>alarmstufe_4</reference>
          </styleReference>
        </instruction>
      </RuleInstructions>
    </Rule>


    <Rule ruleReference="org.kalypso.zml.ui.table.rule.display.hauptzahlen">
      <styleReference>
        <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
      </styleReference>
      <RuleInstructions>
        <!-- <metadata value="26" name="Grenzwert_W: Kalypso_Grenzwert_NW"/>  -->
        <instruction metadataKey=".*Kalypso_Grenzwert_N\w?" operator="SMALLER" label="&lt;N">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
        <!--   <metadata value="80" name="Grenzwert_W: Kalypso_Grenzwert_MNW"/> -->
        <instruction metadataKey=".*Kalypso_Grenzwert_MN\w?" operator="SMALLER" label="&lt;MN">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
        <!--   <metadata value="80" name="Grenzwert_W: Kalypso_Grenzwert_MW"/> -->
        <instruction metadataKey=".*Kalypso_Grenzwert_M\w?" operator="SMALLER" label="&lt;M">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
        <!--   <metadata value="80" name="Grenzwert_W: Kalypso_Grenzwert_MW"/> -->
        <instruction metadataKey=".*Kalypso_Grenzwert_M\w?" operator="EQUAL" label="=M">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
        <!--  <metadata value="210" name="Grenzwert_W: Kalypso_Grenzwert_MHW"/> -->
        <instruction metadataKey=".*Kalypso_Grenzwert_MH\w?" operator="SMALLER_EQUAL" label="&gt;M">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
         <!--   <metadata value="300" name="Grenzwert_W: Kalypso_Grenzwert_HW"/>-->
        <instruction metadataKey=".*Kalypso_Grenzwert_H\w?" operator="SMALLER_EQUAL" label="&gt;MH">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
        <!--   <metadata value="300" name="Grenzwert_W: Kalypso_Grenzwert_HW"/>-->
        <instruction metadataKey=".*Kalypso_Grenzwert_H\w?" operator="GREATER" label="&gt;H">
          <styleReference>
            <url>urn:org:kalypso:zml:ui:table:style:base#emptyStyle</url>
          </styleReference>
        </instruction>
      </RuleInstructions>
    </Rule>
  </Rules>


  <toolbar>toolbar:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.toolbar</toolbar>

  <Columns>
    <!-- date column -->
    <Column xsi:type="IndexColumnType" autopack="true" id="date">
      <property name="label">Datum</property>
      <property name="alignment">LEFT</property>

      <defaultCellStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#dateCellStyle</url>
      </defaultCellStyle>

      <rule>org.kalypso.zml.ui.table.rule.forecast.value</rule>
    </Column>


    <!-- wasserstand -->
    <Column xsi:type="DataColumnType" editable="true" id="W" metadataSource="true">
      <property name="label">Wasserstand</property>
      <property name="width">150</property>
      <property name="alignment">RIGHT</property>
      <property name="uriContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.cell.ContextMenu</property>
      <property name="uriHeaderContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.header.ContextMenu</property>

      <defaultCellStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#wBaseCellStyle</url>
      </defaultCellStyle>
      <defaultCellEditingStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#wBaseEditingCellStyle</url>
      </defaultCellEditingStyle>

      <rule>org.kalypso.zml.ui.table.rule.user.modified</rule>
      <rule>org.kalypso.zml.ui.table.rule.value.interpolated</rule>
      <rule>org.kalypso.zml.ui.table.rule.wq.conflict</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.alarmstufen</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.hauptzahlen</rule>

      <indexAxis>date</indexAxis>
      <valueAxis>W</valueAxis>
    </Column>

    <!-- wasserstand modell zeitreihe -->
    <Column xsi:type="DataColumnType" editable="true" id="W_MODELL">
      <property name="label">Wasserstand (Modell)</property>
      <property name="width">150</property>
      <property name="alignment">RIGHT</property>
      <property name="uriContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.cell.ContextMenu</property>
      <property name="uriHeaderContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.header.ContextMenu</property>

      <defaultCellStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#wBaseCellStyle</url>
      </defaultCellStyle>
      <defaultCellEditingStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#wBaseEditingCellStyle</url>
      </defaultCellEditingStyle>

      <rule>org.kalypso.zml.ui.table.rule.user.modified</rule>
      <rule>org.kalypso.zml.ui.table.rule.value.interpolated</rule>
      <rule>org.kalypso.zml.ui.table.rule.wq.conflict</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.alarmstufen</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.hauptzahlen</rule>

      <indexAxis>date</indexAxis>
      <valueAxis>W</valueAxis>
    </Column>


    <!-- Abfluss -->
    <Column xsi:type="DataColumnType" editable="true" id="Q" metadataSource="true">
      <property name="label">Abfluss</property>
      <property name="width">150</property>
      <property name="alignment">RIGHT</property>
      <property name="uriContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.cell.ContextMenu</property>
      <property name="uriHeaderContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.header.ContextMenu</property>

      <defaultCellStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#qBaseCellStyle</url>
      </defaultCellStyle>

      <rule>org.kalypso.zml.ui.table.rule.user.modified</rule>
      <rule>org.kalypso.zml.ui.table.rule.value.interpolated</rule>
      <rule>org.kalypso.zml.ui.table.rule.wq.conflict</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.alarmstufen</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.hauptzahlen</rule>
      
      <indexAxis>date</indexAxis>
      <valueAxis>Q</valueAxis>
    </Column>

    <!-- Abfluss Modell Zeitreihe -->
    <Column xsi:type="DataColumnType" editable="true" id="Q_MODELL">
      <property name="label">Abfluss (Modell)</property>
      <property name="width">150</property>
      <property name="alignment">RIGHT</property>
      <property name="uriContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.cell.ContextMenu</property>
      <property name="uriHeaderContextMenu">menu:org.kalypso.hwv.product.sachsenanhalt.zml.table.menu.header.ContextMenu</property>

      <defaultCellStyle>
        <url>urn:org:kalypso:zml:ui:table:style:base#qBaseCellStyle</url>
      </defaultCellStyle>

      <rule>org.kalypso.zml.ui.table.rule.user.modified</rule>
      <rule>org.kalypso.zml.ui.table.rule.value.interpolated</rule>
      <rule>org.kalypso.zml.ui.table.rule.wq.conflict</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.alarmstufen</rule>
      <rule>org.kalypso.zml.ui.table.rule.display.hauptzahlen</rule>
      
      <indexAxis>date</indexAxis>
      <valueAxis>Q</valueAxis>
    </Column>

  </Columns>
</ZmlTable>
